<!DOCTYPE html>
<html>
<head>
    

    

    



    <meta charset="utf-8">
    
    
    
    <title>OhYee&#39;s Blog | 随手记录一些东西</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    
    <meta name="theme-color" content="#428bca">
    
    
    <meta name="keywords" content="OhYee,ACM,OYOhYee,博客,题解,C++">
    <meta name="description" content="OhYee在学习算法、编程和生活中的记录">
<meta name="keywords" content="OhYee,ACM,OYOhYee,博客,题解,C++">
<meta property="og:type" content="website">
<meta property="og:title" content="OhYee&#39;s Blog">
<meta property="og:url" content="https://www.oyohyee.com/page/38/index.html">
<meta property="og:site_name" content="OhYee&#39;s Blog">
<meta property="og:description" content="OhYee在学习算法、编程和生活中的记录">
<meta property="og:locale" content="zh-CN">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="OhYee&#39;s Blog">
<meta name="twitter:description" content="OhYee在学习算法、编程和生活中的记录">
    
        <link rel="alternate" type="application/atom+xml" title="OhYee&#39;s Blog" href="/atom.xml">
    
    <link rel="shortcut icon" href="/favicon.ico">
    <link rel="stylesheet" href="/css/style.css?v=1.6.13">
    <script>window.lazyScripts=[]</script>

    <!-- custom head -->
    
        
            <link href='/css/My.css' rel='stylesheet' type='text/css' />
        
            <script type='text/javascript' src='/js/My.js'></script>
        
            <script type='text/javascript' src='/js/digit.js'></script>
        
    

</head>

<body>
    <div id="loading" class="active"></div>

    <aside id="menu"  >
  <div class="inner flex-row-vertical">
    <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="menu-off">
        <i class="icon icon-lg icon-close"></i>
    </a>
    <div class="brand-wrap" style="background-image:url(/brand.jpg)">
      <div class="brand">
        <a href="/" class="avatar waves-effect waves-circle waves-light">
          <img src="/logo.svg" style="background-color: rgba(255,255,255,1)">
        </a>
        <hgroup class="introduce">
          <h5 class="nickname">OhYee</h5>
          <a href="mailto:oyohyee@oyohyee.com" title="oyohyee@oyohyee.com" class="mail">oyohyee@oyohyee.com</a>
        </hgroup>
      </div>
    </div>
    <div class="scroll-wrap flex-col">
      <ul class="nav">
        
            <li class="waves-block waves-effect">
              <a href="/"  >
                <i class="icon icon-lg icon-home"></i>
                
                主页
                
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/archives"  >
                <i class="icon icon-lg icon-archives"></i>
                
                归档
                
                  <span id="site.posts.length" class="digit"></span>
                
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/categories"  >
                <i class="icon icon-lg icon-th-list"></i>
                
                分类
                
                  <span id="site.categories.length" class="digit"></span>
                
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/tags"  >
                <i class="icon icon-lg icon-tags"></i>
                
                标签
                
                  <span id="site.tags.length" class="digit"></span>
                
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/projects"  >
                <i class="icon icon-lg icon-OhYee"></i>
                
                我的项目
                
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/templates.html"  >
                <i class="icon icon-lg icon-code"></i>
                
                算法模板
                
              </a>
            </li>
        

      <ul class="nav2">
          
              <li class="waves-block waves-effect">
                <a href="/about"  title="关于" >
                  <i class="icon icon-lg icon-address-card address-card"></i>
                </a>
              </li>
          
              <li class="waves-block waves-effect">
                <a href="/gitment"  title="评论系统" >
                  <i class="icon icon-lg icon-commenting commenting"></i>
                </a>
              </li>
          
              <li class="waves-block waves-effect">
                <a href="http://wpa.qq.com/msgrd?v=3&uin=896817156&site=qq&menu=yes" target="_blank" title="QQ联系" >
                  <i class="icon icon-lg icon-qq qq"></i>
                </a>
              </li>
          
              <li class="waves-block waves-effect">
                <a href="https://github.com/OhYee" target="_blank" title="github" >
                  <i class="icon icon-lg icon-github github"></i>
                </a>
              </li>
          
        </ul>

      </ul>
    </div>
  </div>
</aside>

    <main id="main">
        <header class="top-header" id="header">
    <div class="flex-row">
        <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light on" id="menu-toggle">
          <i class="icon icon-lg icon-navicon"></i>
        </a>
        <div class="flex-col header-title ellipsis">OhYee&#39;s Blog</div>
        
        <div class="search-wrap" id="search-wrap">
            <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="back">
                <i class="icon icon-lg icon-chevron-left"></i>
            </a>
            <input type="text" id="key" class="search-input" autocomplete="off" placeholder="输入感兴趣的关键字">
            <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="search">
                <i class="icon icon-lg icon-search"></i>
            </a>
        </div>
        
        
        <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="menuShare">
            <i class="icon icon-lg icon-share-alt"></i>
        </a>
        
    </div>
</header>

<!-- 占位 -->
<div class="holder" style="height:56px"></div>

<header class="content-header index-header" >

    <div class="container fade-scale">
        <h1 class="title">OhYee&#39;s Blog</h1>
        <h5 class="subtitle">
            
                随手记录一些东西
            
        </h5>
    </div>

    


</header>

<div class="container body-wrap">

    <ul class="post-list">
    
        <li class="post-list-item fade">
            <article id="post-Algorithm/LCS"
  class="article-card article-type-post" itemprop="blogPost">

    <div class="post-meta">
        <time class="post-time" title="2016-05-08 22:39:00 22:39:00" datetime="2016-05-08T14:39:00.000Z"  itemprop="datePublished">2016-05-08 22:39:00</time>

        
	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/Algorithm/">算法</a></li></ul>



    </div>

    


  
    <h3 class="post-title" itemprop="name">
      <a class="post-title-link" href="/post/Algorithm/LCS.html">最长公共子序列</a>
    </h3>
  




    <div class="post-content" id="post-content" itemprop="postContent">

    
        <blockquote><p>一个数列 ，如果分别是两个或多个已知数列的子序列，且是所有符合此条件序列中最长的，则 称为已知序列的最长公共子序列。</p>
<footer><strong>百度百科</strong></footer></blockquote>
<p>对于两个数最长公共子序列，意思为从两个序列中，尽可能少的删除一些数，从未使得两个序列相同</p>
<p>对于用<code>dp[i][j]</code>记录到字符串a的第i个字符和字符串b的第j个字符时的最长公共子序列</p>
<p>显然有<br><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">若 a[i]==b[j]</div><div class="line"></div><div class="line">　　dp[i][j] = dp[i-1][j-1]+1</div><div class="line"></div><div class="line">否则</div><div class="line"></div><div class="line">　　dp[i][j] = max&#123; dp[i-1][j] , dp[i][j-1] &#125;</div></pre></td></tr></table></figure></p>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="/post/img/lcs.png" alt="" title="">
                </div>
                <div class="image-caption"></div>
            </figure>
<p>如上图，可以发现每个匹配的字符，都是每种数字的最“左上”的一个</p>
<p>因此可以根据这个规律倒叙出最长公共子序列的一个解</p>
<figure class="highlight cpp"><figcaption><span>模板</span></figcaption><table><tr><td class="code"><pre><div class="line"><span class="comment">//最长公共子序列</span></div><div class="line"><span class="comment">//输入字符串a 及其长度 字符串b 及其长度 保存最长公共子序列的数组</span></div><div class="line"><span class="comment">//字符从0开始</span></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">LCS</span><span class="params">(<span class="keyword">char</span> *a,<span class="keyword">char</span> *b,<span class="keyword">char</span> s[] = <span class="literal">NULL</span>)</span> </span>&#123;</div><div class="line">    <span class="keyword">int</span> len1 = <span class="built_in">strlen</span>(a);</div><div class="line">    <span class="keyword">int</span> len2 = <span class="built_in">strlen</span>(b);</div><div class="line">    <span class="keyword">char</span> *aa = a - <span class="number">1</span>;</div><div class="line">    <span class="keyword">char</span> *bb = b - <span class="number">1</span>;</div><div class="line"></div><div class="line">    <span class="comment">//声明二维数组</span></div><div class="line">    <span class="keyword">int</span> * m = <span class="keyword">new</span> <span class="keyword">int</span>[(len1 + <span class="number">1</span>)*(len2 + <span class="number">1</span>)];</div><div class="line">    <span class="keyword">int</span> **dp = <span class="keyword">new</span> <span class="keyword">int</span> *[len1 + <span class="number">1</span>];</div><div class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>;i &lt;= len1;i++)</div><div class="line">        dp[i] = m + i*(len2 + <span class="number">1</span>);</div><div class="line"></div><div class="line">    <span class="comment">//初始化</span></div><div class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>;i &lt;= len1;i++)</div><div class="line">        dp[i][<span class="number">0</span>] = <span class="number">0</span>;</div><div class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>;i &lt;= len2;i++)</div><div class="line">        dp[<span class="number">0</span>][i] = <span class="number">0</span>;</div><div class="line"></div><div class="line">    <span class="comment">//动态规划</span></div><div class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>;i &lt;= len1;i++)</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">1</span>;j &lt;= len2;j++)</div><div class="line">            <span class="keyword">if</span>(aa[i] == bb[j])</div><div class="line">                dp[i][j] = dp[i - <span class="number">1</span>][j - <span class="number">1</span>] + <span class="number">1</span>;</div><div class="line">            <span class="keyword">else</span></div><div class="line">                dp[i][j] = max(dp[i - <span class="number">1</span>][j],dp[i][j - <span class="number">1</span>]);</div><div class="line"></div><div class="line">    <span class="comment">/*for(int i = 0;i &lt;= len1;i++)&#123;</span></div><div class="line"><span class="comment">        for(int j = 0;j &lt;= len2;j++)</span></div><div class="line"><span class="comment">            printf("%d\t",dp[i][j]);</span></div><div class="line"><span class="comment">        printf("\n");</span></div><div class="line"><span class="comment">    &#125;*/</span></div><div class="line"></div><div class="line">    <span class="comment">//如果c未传值</span></div><div class="line">    <span class="keyword">if</span>(s == <span class="literal">NULL</span>)</div><div class="line">        <span class="keyword">return</span> dp[len1][len2];</div><div class="line"></div><div class="line">    <span class="comment">//逆序推出一条符合串</span></div><div class="line">    <span class="keyword">int</span> ans = dp[len1][len2];</div><div class="line">    <span class="keyword">int</span> x = len1;</div><div class="line">    <span class="keyword">int</span> y = len2;</div><div class="line">    <span class="keyword">int</span> it = ans;</div><div class="line">    s[it] = <span class="string">'\0'</span>;</div><div class="line">    <span class="keyword">while</span>(it) &#123;</div><div class="line">        <span class="keyword">if</span>(dp[x - <span class="number">1</span>][y] == it) &#123;</div><div class="line">            x--;</div><div class="line">            <span class="keyword">continue</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">if</span>(dp[x][y - <span class="number">1</span>] == it) &#123;</div><div class="line">            y--;</div><div class="line">            <span class="keyword">continue</span>;</div><div class="line">        &#125;</div><div class="line">        s[--it] = aa[x];</div><div class="line">        x--;</div><div class="line">        y--;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> ans;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
    

        <a href="/post/Algorithm/LCS.html" class="post-more waves-effect waves-button">
            阅读全文…
        </a>
    </div>
    
    <div class="post-footer">
        
	<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Dp/">动态规划</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/LCS/">最长公共子序列</a></li></ul>

    </div>
    
</article>

        </li>
    
        <li class="post-list-item fade">
            <article id="post-Project/DP"
  class="article-card article-type-post" itemprop="blogPost">

    <div class="post-meta">
        <time class="post-time" title="2016-05-08 21:27:00 21:27:00" datetime="2016-05-08T13:27:00.000Z"  itemprop="datePublished">2016-05-08 21:27:00</time>

        
	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/Topic/">专题</a></li></ul>



    </div>

    


  
    <h3 class="post-title" itemprop="name">
      <a class="post-title-link" href="/post/Project/DP.html">动态规划专题</a>
    </h3>
  




    <div class="post-content" id="post-content" itemprop="postContent">

    
        <p>必考题型</p>
<p>动态规划问题，最重要的是确定状态，找出动态转移方程</p>
<p>其经典类型有</p>
<ul>
<li><a href="/post/Algorithm/Package_Problem.html">背包问题</a></li>
<li><a href="/post/Algorithm/LIS.html">最长上升子序列</a></li>
<li><a href="/post/Algorithm/LCS.html">最长公共子序列</a></li>
</ul>
<p><a href="http://www.oyohyee.com/tags/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92/"><strong>&gt;更多的动态规划题解&lt;</strong></a></p>
<table>
<thead>
<tr>
<th style="text-align:center">OJ编号</th>
<th style="text-align:center">题目名称</th>
<th style="text-align:center">题目题解</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">HDU 1024</td>
<td style="text-align:center">Max Sum Plus Plus</td>
<td style="text-align:center">&nbsp;</td>
</tr>
<tr>
<td style="text-align:center">HDU 1029</td>
<td style="text-align:center">Ignatius and the Princess IV</td>
<td style="text-align:center">&nbsp;</td>
</tr>
<tr>
<td style="text-align:center">HDU 1069</td>
<td style="text-align:center">Monkey and Banana</td>
<td style="text-align:center">&nbsp;</td>
</tr>
<tr>
<td style="text-align:center">HDU 1074</td>
<td style="text-align:center">Doing Homework</td>
<td style="text-align:center">&nbsp;</td>
</tr>
<tr>
<td style="text-align:center">HDU 1087</td>
<td style="text-align:center">Super Jumping! Jumping! Jumping!</td>
<td style="text-align:center">&nbsp;</td>
</tr>
<tr>
<td style="text-align:center">HDU 1114</td>
<td style="text-align:center">Piggy-Bank</td>
<td style="text-align:center">&nbsp;</td>
</tr>
<tr>
<td style="text-align:center">HDU 1176</td>
<td style="text-align:center">免费馅饼</td>
<td style="text-align:center">&nbsp;</td>
</tr>
<tr>
<td style="text-align:center">HDU 1260</td>
<td style="text-align:center">Tickets</td>
<td style="text-align:center">&nbsp;</td>
</tr>
<tr>
<td style="text-align:center">HDU 1257</td>
<td style="text-align:center">最少拦截系统</td>
<td style="text-align:center">&nbsp;</td>
</tr>
<tr>
<td style="text-align:center">HDU 1160</td>
<td style="text-align:center">FatMouse’s Speed</td>
<td style="text-align:center">&nbsp;</td>
</tr>
<tr>
<td style="text-align:center">POJ 1015</td>
<td style="text-align:center">Jury Compromise</td>
<td style="text-align:center">&nbsp;</td>
</tr>
<tr>
<td style="text-align:center">POJ 1458</td>
<td style="text-align:center">Common Subsequence</td>
<td style="text-align:center">&nbsp;</td>
</tr>
<tr>
<td style="text-align:center">POJ 1661</td>
<td style="text-align:center">Help Jimmy</td>
<td style="text-align:center">&nbsp;</td>
</tr>
<tr>
<td style="text-align:center">POJ 2533</td>
<td style="text-align:center">Longest Ordered Subsequence</td>
<td style="text-align:center"><a href="/post/POJ/2533.html">POJ 2533.Longest Ordered Subsequence</a></td>
</tr>
<tr>
<td style="text-align:center">POJ 3186</td>
<td style="text-align:center">Treats for the Cows</td>
<td style="text-align:center">&nbsp;</td>
</tr>
<tr>
<td style="text-align:center">HDU 1078</td>
<td style="text-align:center">FatMouse and Cheese</td>
<td style="text-align:center">&nbsp;</td>
</tr>
<tr>
<td style="text-align:center">HDU 2859</td>
<td style="text-align:center">Phalanx</td>
<td style="text-align:center">&nbsp;</td>
</tr>
<tr>
<td style="text-align:center">POJ 3616</td>
<td style="text-align:center">Milking Time</td>
<td style="text-align:center">&nbsp;</td>
</tr>
<tr>
<td style="text-align:center">POJ 3666</td>
<td style="text-align:center">Making the Grade</td>
<td style="text-align:center">&nbsp;</td>
</tr>
<tr>
<td style="text-align:center">POJ 1837</td>
<td style="text-align:center">Balance</td>
<td style="text-align:center"><a href="/post/POJ/1837.html">POJ 1837.Balance</a></td>
</tr>
<tr>
<td style="text-align:center">POJ 1276</td>
<td style="text-align:center">Cash Machine</td>
<td style="text-align:center"><a href="/post/POJ/1276.html">POJ 1276.Cash Machine</a></td>
</tr>
<tr>
<td style="text-align:center">POJ 3267</td>
<td style="text-align:center">The Cow Lexicon</td>
<td style="text-align:center">&nbsp;</td>
</tr>
<tr>
<td style="text-align:center">POJ 1836</td>
<td style="text-align:center">Alignment</td>
<td style="text-align:center"><a href="/post/POJ/1836.html">POJ 1836.Alignment</a></td>
</tr>
<tr>
<td style="text-align:center">POJ 1260</td>
<td style="text-align:center">Pearls</td>
<td style="text-align:center"><a href="/post/POJ/1260.html">POJ 1260 Pearls</a></td>
</tr>
<tr>
<td style="text-align:center">POJ 2533</td>
<td style="text-align:center">Longest Ordered Subsequence</td>
<td style="text-align:center"><a href="/post/POJ/2533.html">POJ 2533.Longest_Ordered_Subsequence</a></td>
</tr>
<tr>
<td style="text-align:center">POJ 3176</td>
<td style="text-align:center">Cow Bowling</td>
<td style="text-align:center"><a href="/post/POJ/3176.html">POJ 3176 Cow Bowling</a></td>
</tr>
<tr>
<td style="text-align:center">POJ 1080</td>
<td style="text-align:center">Human Gene Functions</td>
<td style="text-align:center">&nbsp;</td>
</tr>
<tr>
<td style="text-align:center">POJ 1159</td>
<td style="text-align:center">Palindroe</td>
<td style="text-align:center">&nbsp;</td>
</tr>
</tbody>
</table>

    

        <a href="/post/Project/DP.html" class="post-more waves-effect waves-button">
            阅读全文…
        </a>
    </div>
    
    <div class="post-footer">
        
	<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Dp/">动态规划</a></li></ul>

    </div>
    
</article>

        </li>
    
        <li class="post-list-item fade">
            <article id="post-POJ/3176"
  class="article-card article-type-post" itemprop="blogPost">

    <div class="post-meta">
        <time class="post-time" title="2016-05-02 00:54:00 00:54:00" datetime="2016-05-01T16:54:00.000Z"  itemprop="datePublished">2016-05-02 00:54:00</time>

        
	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/Answer/">题解</a></li></ul>



    </div>

    


  
    <h3 class="post-title" itemprop="name">
      <a class="post-title-link" href="/post/POJ/3176.html">POJ 3176.Cow Bowling</a>
    </h3>
  




    <div class="post-content" id="post-content" itemprop="postContent">

    
        <h1 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h1><blockquote>
<h2 id="Description"><a href="#Description" class="headerlink" title="Description"></a>Description</h2><blockquote>
<p>The cows don’t use actual bowling balls when they go bowling. They each take a number (in the range 0..99), though, and line up in a standard bowling-pin-like triangle like this:   </p>
<p> 7   </p>
<p> 3   8   </p>
<p> 8   1   0   </p>
<p> 2   7   4   4   </p>
<p> 4   5   2   6   5<br>Then the other cows traverse the triangle starting from its tip and moving “down” to one of the two diagonally adjacent cows until the “bottom” row is reached. The cow’s score is the sum of the numbers of the cows visited along the way. The cow with the highest score wins that frame.   </p>
<p>Given a triangle with N (1 &lt;= N &lt;= 350) rows, determine the highest possible sum achievable.  </p>
</blockquote>
<h2 id="Input"><a href="#Input" class="headerlink" title="Input"></a>Input</h2><blockquote>
<p>Line 1: A single integer, N   </p>
<p>Lines 2..N+1: Line i+1 contains i space-separated integers that represent row i of the triangle.  </p>
</blockquote>
<h2 id="Output"><a href="#Output" class="headerlink" title="Output"></a>Output</h2><blockquote>
<p>Line 1: The largest sum achievable using the traversal rules  </p>
</blockquote>
<h2 id="Sample-Input"><a href="#Sample-Input" class="headerlink" title="Sample Input"></a>Sample Input</h2><blockquote>
<p>5<br>7<br>3 8<br>8 1 0<br>2 7 4 4<br>4 5 2 6 5  </p>
</blockquote>
<h2 id="Sample-Output"><a href="#Sample-Output" class="headerlink" title="Sample Output"></a>Sample Output</h2><blockquote>
<p>30  </p>
</blockquote>
<h2 id="Hint"><a href="#Hint" class="headerlink" title="Hint"></a>Hint</h2><blockquote>
<p>Explanation of the sample:   </p>
<p> 7<br> *  </p>
<p> 3   8<br> *  </p>
<p> 8   1   0<br>     *  </p>
<p> 2   7   4   4<br> &nbsp;&nbsp;&nbsp;*  </p>
<p> 4   5   2   6   5<br>The highest score is achievable by traversing the cows as shown above.  </p>
</blockquote>
</blockquote>
<h1 id="题解"><a href="#题解" class="headerlink" title="题解"></a>题解</h1><p>非常明显的dp+贪心</p>
<p>对于n行的三角形，其一共有 n*(n+1)/2 个数</p>
<p><code>dp[left(i)] = max{ dp[left(i) , dp[i] + a[left(i)] }</code></p>
<p><code>dp[left(i+1)+1] = max{ dp[left(i)+1] , dp[i] + a[left(i)+1] }</code></p>
<p>其中，left(i)表示i下一层左边的数</p>
<h1 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h1><figure class="highlight cpp"><table><tr><td class="code"><pre><div class="line"><span class="comment">/*</span></div><div class="line"><span class="comment">By:OhYee</span></div><div class="line"><span class="comment">Github:OhYee</span></div><div class="line"><span class="comment">HomePage:http://www.oyohyee.com</span></div><div class="line"><span class="comment">Email:oyohyee@oyohyee.com</span></div><div class="line"><span class="comment">Blog:http://www.cnblogs.com/ohyee/</span></div><div class="line"><span class="comment"></span></div><div class="line"><span class="comment">かしこいかわいい？</span></div><div class="line"><span class="comment">エリーチカ！</span></div><div class="line"><span class="comment">要写出来Хорошо的代码哦~</span></div><div class="line"><span class="comment">*/</span></div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;list&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stack&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"></div><div class="line"><span class="comment">//DEBUG MODE</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> debug 0</span></div><div class="line"></div><div class="line"><span class="comment">//循环</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> REP(n) for(int o=0;o&lt;n;o++)</span></div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> t(n) (((n) * ((n)+1))/2)</span></div><div class="line"></div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">1005</span>;</div><div class="line"><span class="keyword">int</span> n;</div><div class="line"><span class="keyword">int</span> a[t(maxn)];</div><div class="line"><span class="keyword">int</span> dp[t(maxn)];</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">left</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</div><div class="line">    <span class="keyword">int</span> i;</div><div class="line">    <span class="keyword">for</span>(i = <span class="number">0</span>;t(i) &lt; n;i++);</div><div class="line">    <span class="keyword">return</span> n + i;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">bool</span> <span class="title">Do</span><span class="params">()</span> </span>&#123;</div><div class="line">    <span class="keyword">if</span>(<span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;n) == EOF)</div><div class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</div><div class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>;i &lt;= t(n);i++)</div><div class="line">        <span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;a[i]);</div><div class="line"></div><div class="line">    <span class="built_in">memset</span>(dp,<span class="number">0</span>,<span class="keyword">sizeof</span>(dp));</div><div class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>;i &lt;= t(n - <span class="number">1</span>);i++) &#123;</div><div class="line">        dp[left(i)] = max(dp[left(i)],dp[i] + a[left(i)]);</div><div class="line">        dp[left(i) + <span class="number">1</span>] = max(dp[left(i) + <span class="number">1</span>],dp[i] + a[left(i) + <span class="number">1</span>]);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="keyword">int</span> Max = <span class="number">-1</span>;</div><div class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = t(n - <span class="number">1</span>) + <span class="number">1</span>;i &lt;= t(n);i++)</div><div class="line">        Max = max(Max,dp[i]);</div><div class="line"></div><div class="line">    <span class="built_in">printf</span>(<span class="string">"%d\n"</span>,Max);</div><div class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</div><div class="line">    <span class="keyword">while</span>(Do());</div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
    

        <a href="/post/POJ/3176.html" class="post-more waves-effect waves-button">
            阅读全文…
        </a>
    </div>
    
    <div class="post-footer">
        
	<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/POJ/">POJ</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Dp/">动态规划</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Greed/">贪心算法</a></li></ul>

    </div>
    
</article>

        </li>
    
        <li class="post-list-item fade">
            <article id="post-POJ/2533"
  class="article-card article-type-post" itemprop="blogPost">

    <div class="post-meta">
        <time class="post-time" title="2016-05-01 23:18:00 23:18:00" datetime="2016-05-01T15:18:00.000Z"  itemprop="datePublished">2016-05-01 23:18:00</time>

        
	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/Answer/">题解</a></li></ul>



    </div>

    


  
    <h3 class="post-title" itemprop="name">
      <a class="post-title-link" href="/post/POJ/2533.html">POJ 2533.Longest Ordered Subsequence</a>
    </h3>
  




    <div class="post-content" id="post-content" itemprop="postContent">

    
        <h1 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h1><blockquote>
<h2 id="Description"><a href="#Description" class="headerlink" title="Description"></a>Description</h2><blockquote>
<p>A numeric sequence of ai is ordered if a1 &lt; a2 &lt; … &lt; aN. Let the subsequence of the given numeric sequence ( a1, a2, …, aN) be any sequence ( ai1, ai2, …, aiK), where 1 &lt;= i1 &lt; i2 &lt; … &lt; iK &lt;= N. For example, sequence (1, 7, 3, 5, 9, 4, 8) has ordered subsequences, e. g., (1, 7), (3, 4, 8) and many others. All longest ordered subsequences are of length 4, e. g., (1, 3, 5, 8).   </p>
<p>Your program, when given the numeric sequence, must find the length of its longest ordered subsequence.<br>
    

        <a href="/post/POJ/2533.html" class="post-more waves-effect waves-button">
            阅读全文…
        </a>
    </div>
    
    <div class="post-footer">
        
	<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/POJ/">POJ</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Dp/">动态规划</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/LIS/">最长上升子序列</a></li></ul>

    </div>
    
</article>

        </li>
    
        <li class="post-list-item fade">
            <article id="post-POJ/1260"
  class="article-card article-type-post" itemprop="blogPost">

    <div class="post-meta">
        <time class="post-time" title="2016-05-01 18:59:00 18:59:00" datetime="2016-05-01T10:59:00.000Z"  itemprop="datePublished">2016-05-01 18:59:00</time>

        
	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/Answer/">题解</a></li></ul>



    </div>

    


  
    <h3 class="post-title" itemprop="name">
      <a class="post-title-link" href="/post/POJ/1260.html">POJ 1260.Pearls</a>
    </h3>
  




    <div class="post-content" id="post-content" itemprop="postContent">

    
        <h1 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h1><blockquote>
<h2 id="Description"><a href="#Description" class="headerlink" title="Description"></a>Description</h2><blockquote>
<p>In Pearlania everybody is fond of pearls. One company, called The Royal Pearl, produces a lot of jewelry with pearls in it. The Royal Pearl has its name because it delivers to the royal family of Pearlania. But it also produces bracelets and necklaces for ordinary people. Of course the quality of the pearls for these people is much lower then the quality of pearls for the royal family.In Pearlania pearls are separated into 100 different quality classes. A quality class is identified by the price for one single pearl in that quality class. This price is unique for that quality class and the price is always higher then the price for a pearl in a lower quality class.<br>Every month the stock manager of The Royal Pearl prepares a list with the number of pearls needed in each quality class. The pearls are bought on the local pearl market. Each quality class has its own price per pearl, but for every complete deal in a certain quality class one has to pay an extra amount of money equal to ten pearls in that class. This is to prevent tourists from buying just one pearl.<br>Also The Royal Pearl is suffering from the slow-down of the global economy. Therefore the company needs to be more efficient. The CFO (chief financial officer) has discovered that he can sometimes save money by buying pearls in a higher quality class than is actually needed.No customer will blame The Royal Pearl for putting better pearls in the bracelets, as long as the<br>prices remain the same.<br>For example 5 pearls are needed in the 10 Euro category and 100 pearls are needed in the 20 Euro category. That will normally cost: (5+10)<em>10+(100+10)</em>20 = 2350 Euro.Buying all 105 pearls in the 20 Euro category only costs: (5+100+10)*20 = 2300 Euro.<br>The problem is that it requires a lot of computing work before the CFO knows how many pearls can best be bought in a higher quality class. You are asked to help The Royal Pearl with a computer program.   </p>
<p>Given a list with the number of pearls and the price per pearl in different quality classes, give the lowest possible price needed to buy everything on the list. Pearls can be bought in the requested,or in a higher quality class, but not in a lower one.<br>
    

        <a href="/post/POJ/1260.html" class="post-more waves-effect waves-button">
            阅读全文…
        </a>
    </div>
    
    <div class="post-footer">
        
	<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/POJ/">POJ</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Dp/">动态规划</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Greed/">贪心算法</a></li></ul>

    </div>
    
</article>

        </li>
    
        <li class="post-list-item fade">
            <article id="post-POJ/1836"
  class="article-card article-type-post" itemprop="blogPost">

    <div class="post-meta">
        <time class="post-time" title="2016-05-01 01:24:00 01:24:00" datetime="2016-04-30T17:24:00.000Z"  itemprop="datePublished">2016-05-01 01:24:00</time>

        
	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/Answer/">题解</a></li></ul>



    </div>

    


  
    <h3 class="post-title" itemprop="name">
      <a class="post-title-link" href="/post/POJ/1836.html">POJ 1836.Alignment</a>
    </h3>
  




    <div class="post-content" id="post-content" itemprop="postContent">

    
        <h1 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h1><blockquote>
<h2 id="Description"><a href="#Description" class="headerlink" title="Description"></a>Description</h2><p>In the army, a platoon is composed by n soldiers. During the morning inspection, the soldiers are aligned in a straight line in front of the captain. The captain is not satisfied with the way his soldiers are aligned; it is true that the soldiers are aligned in order by their code number: 1 , 2 , 3 , . . . , n , but they are not aligned by their height. The captain asks some soldiers to get out of the line, as the soldiers that remain in the line, without changing their places, but getting closer, to form a new line, where each soldier can see by looking lengthwise the line at least one of the line’s extremity (left or right). A soldier see an extremity if there isn’t any soldiers with a higher or equal height than his height between him and that extremity.<br>
    

        <a href="/post/POJ/1836.html" class="post-more waves-effect waves-button">
            阅读全文…
        </a>
    </div>
    
    <div class="post-footer">
        
	<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/POJ/">POJ</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Dp/">动态规划</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/LIS/">最长上升子序列</a></li></ul>

    </div>
    
</article>

        </li>
    
        <li class="post-list-item fade">
            <article id="post-Algorithm/LIS"
  class="article-card article-type-post" itemprop="blogPost">

    <div class="post-meta">
        <time class="post-time" title="2016-04-30 22:37:00 22:37:00" datetime="2016-04-30T14:37:00.000Z"  itemprop="datePublished">2016-04-30 22:37:00</time>

        
	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/Algorithm/">算法</a></li></ul>



    </div>

    


  
    <h3 class="post-title" itemprop="name">
      <a class="post-title-link" href="/post/Algorithm/LIS.html">最长上升子序列</a>
    </h3>
  




    <div class="post-content" id="post-content" itemprop="postContent">

    
        <blockquote>
<p>对于一个数列a1,a2,a3,a4……求取其最长的子序列s1,s2,s3……使其满足单调递增的算法，叫做最长上升子序列</p>
</blockquote>
<p>对于该问题有两种思路：</p>
<ul>
<li>动态规划方法求解 O(n2)</li>
<li>贪心+二分 O(nlogn)</li>
</ul>
<h1 id="动态规划"><a href="#动态规划" class="headerlink" title="动态规划"></a>动态规划</h1><ul>
<li>A[i]表示序列中的第i个数  </li>
<li>dp[i]表示从1到i这一段中以i结尾的最长上升子序列的长度  </li>
</ul>
<p>初始时设<code>dp[i] = 0(i = 1, 2, ...)</code>。</p>
<p>则有动态规划方程：<code>dp[i] = max{dp[j] + 1} (j = 1, 2, ..., i - 1, 且A[j] &lt; A[i])</code></p>
<h1 id="贪心-二分"><a href="#贪心-二分" class="headerlink" title="贪心+二分"></a>贪心+二分</h1><p>构造一个有顺序的栈s</p>
<p>每次取栈顶元素top和读取到的元素a</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">if top &lt; a</div><div class="line"></div><div class="line">　　s.push(a)</div><div class="line"></div><div class="line">else</div><div class="line"></div><div class="line">　　用a替换栈中第一个比a大的数</div></pre></td></tr></table></figure>
<p>最后栈中的元素的数量就是所求的数量(但是栈中元素可能并不是最长上升子序列)</p>
<p>举例：原序列为1，5，8，3，6，7 </p>
<p>栈为1，5，8，此时读到3，则用3替换5，得到栈中元素为1，3，8，  再读6，用6替换8，得到1，3，6，再读7，得到最终栈为1，3，6，7  ，最长递增子序列为长度4。 </p>
 <figure class="highlight cpp"><figcaption><span>模板</span></figcaption><table><tr><td class="code"><pre><div class="line"> <span class="class"><span class="keyword">class</span> <span class="title">LIS_stack</span> &#123;</span></div><div class="line"><span class="keyword">private</span>:</div><div class="line">    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keyword">int</span> SIZE = maxn;<span class="comment">//最大长度</span></div><div class="line">    <span class="keyword">int</span> len;<span class="comment">//长度</span></div><div class="line">    <span class="keyword">int</span> Stack[SIZE];</div><div class="line"><span class="keyword">public</span>:</div><div class="line">    LIS_stack() &#123;</div><div class="line">        len = <span class="number">0</span>;</div><div class="line">        <span class="built_in">memset</span>(Stack,<span class="number">0</span>,<span class="keyword">sizeof</span>(Stack));</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">push</span><span class="params">(<span class="keyword">int</span> num)</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span>(len == <span class="number">0</span> || Stack[len - <span class="number">1</span>] &lt; num) &#123;</div><div class="line">            Stack[len++] = num;</div><div class="line">        &#125; <span class="keyword">else</span> &#123;</div><div class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>;i &lt; len;i++) &#123;</div><div class="line">                <span class="keyword">if</span>(Stack[i] &gt; num) &#123;</div><div class="line">                    Stack[i] = num;</div><div class="line">                    <span class="keyword">break</span>;</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">int</span> <span class="title">lenth</span><span class="params">()</span> </span>&#123;</div><div class="line">        <span class="keyword">return</span> len;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">&#125;;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">LIS</span><span class="params">(<span class="keyword">int</span> *a,<span class="keyword">int</span> len)</span> </span>&#123;</div><div class="line">    LIS_stack s;</div><div class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>;i &lt; len;i++) </div><div class="line">        s.push(a[i]);</div><div class="line">    <span class="keyword">return</span> s.lenth();</div><div class="line">&#125;</div></pre></td></tr></table></figure>
    

        <a href="/post/Algorithm/LIS.html" class="post-more waves-effect waves-button">
            阅读全文…
        </a>
    </div>
    
    <div class="post-footer">
        
	<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Division/">二分</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Dp/">动态规划</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/LIS/">最长上升子序列</a></li></ul>

    </div>
    
</article>

        </li>
    
        <li class="post-list-item fade">
            <article id="post-Algorithm/Package_Problem"
  class="article-card article-type-post" itemprop="blogPost">

    <div class="post-meta">
        <time class="post-time" title="2016-04-30 21:36:00 21:36:00" datetime="2016-04-30T13:36:00.000Z"  itemprop="datePublished">2016-04-30 21:36:00</time>

        
	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/Algorithm/">算法</a></li></ul>



    </div>

    


  
    <h3 class="post-title" itemprop="name">
      <a class="post-title-link" href="/post/Algorithm/Package_Problem.html">背包问题</a>
    </h3>
  




    <div class="post-content" id="post-content" itemprop="postContent">

    
        <blockquote><p><strong>背包问题(Knapsack problem)</strong>是一种组合优化的NP完全问题。<br>问题可以描述为：给定一组物品，每种物品都有自己的重量和价格，在限定的总重量内，我们如何选择，才能使得物品的总价格最高。问题的名称来源于如何选择最合适的物品放置于给定背包中。相似问题经常出现在商业、组合数学，计算复杂性理论、密码学和应用数学等领域中。也可以将背包问题描述为决定性问题，即在总重量不超过W的前提下，总价值是否能达到V？它是在1978年由Merkel和Hellman提出的。</p>
<footer><strong>百度百科——背包问题</strong></footer></blockquote>  
<p>在背包问题里，有很著名的《背包九讲》来帮助我们理解背包问题。</p>
<p>下载：<a href="http://files.cnblogs.com/files/ohyee/%E8%83%8C%E5%8C%85%E4%B9%9D%E8%AE%B2.pdf" target="_blank" rel="external">《背包九讲》</a>  </p>
<p><a href="/tags/PackageProblem/"><strong>&gt;更多的背包问题题目&lt;</strong></a>   </p>
<h1 id="01背包问题"><a href="#01背包问题" class="headerlink" title="01背包问题"></a>01背包问题</h1><p>条件：</p>
<ul>
<li>背包大小V</li>
<li>物品件数n(每个物体只有1个)</li>
<li>第i个物品的花费c[i]</li>
<li>第i个物品的价值w[i]</li>
</ul>
<p>即在保证花费和不超过V的情况下，尽可能让价值最大(有的题目中花费就是价值)</p>
<p>用<code>dp[i][j]</code>表示前i个物品在最大体积为j的情况下的最大价值(所求答案为<code>dp[n][V]</code>)</p>
<p>对于第i个物品，我们可以选择“选”( <code>dp[i-1][ j-c[i] ] + w[i]</code> )或“不选”(<code>dp[i-1][ j ]</code>)</p>
<p>有<code>dp[i][j] = max{ dp[i-1][j] , dp[i-1][j - c[i]] + w[i] }</code></p>
<p>当从i=1开始循环时，在计算<code>dp[i][]</code>时，<code>dp[i-1][]</code>已经计算过了，因此我们可以算出所有的值</p>
<p>同时，可以发现我们计算<code>dp[i][j]</code>之会用到<code>dp[i-1][j]</code>和<code>dp[i-1][j-c[i]]</code> 并且 <code>j&gt;j-c[i]</code></p>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="http://images2015.cnblogs.com/blog/790793/201604/790793-20160430205211785-218378333.png" alt="" title="">
                </div>
                <div class="image-caption"></div>
            </figure>
<p>如图，可以将二维数组降为一维数组，只要保证比当前计算的<code>dp[i][j]</code>的j小的还停留在“上一层”(i-1)即可</p>
<p>也即从后往前刷(逆序刷表)</p>
<p>并且可以知道可能更新的的最小的值为<code>dp[i][c[i]</code>] (当剩余空间比<code>c[i]</code>还小时，<code>j-c[i]</code>不在合法范围内)</p>
<p>因此，可以写出如下代码</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">ZeroOnePack</span><span class="params">(<span class="keyword">int</span> cost,<span class="keyword">int</span> weight)</span> </span>&#123;</div><div class="line">     <span class="keyword">for</span> (<span class="keyword">int</span> i = v; i &gt;= cost; i--)</div><div class="line">         dp[i] = max(dp[i],dp[i - cost] + weight);</div><div class="line"> &#125;</div></pre></td></tr></table></figure>
<p> 使用时只需从i=1到i=n进行一遍循环即可</p>
 <figure class="highlight cpp"><table><tr><td class="code"><pre><div class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i &lt;= n;i++)</div><div class="line">   ZeroOnePack(c[i],w[i]);</div></pre></td></tr></table></figure>
<p> 初始时要将dp[0][]初始化为0</p>
<h1 id="完全背包问题"><a href="#完全背包问题" class="headerlink" title="完全背包问题"></a>完全背包问题</h1><p>条件：</p>
<p>背包大小V</p>
<ul>
<li><p>物品件数n(每个物体有无数个)  </p>
</li>
<li><p>第i个物品的花费c[i]  </p>
</li>
<li><p>第i个物品的价值w[i]  </p>
</li>
</ul>
<p>即在保证花费和不超过V的情况下，尽可能让价值最大(有的题目中花费就是价值)</p>
<p>用<code>dp[i][j]</code>表示前i个物品在最大体积为j的情况下的最大价值(所求答案为<code>dp[n][V]</code>)</p>
<p>对于第i个物品，我们可以选择“不选”(<code>dp[i-1][j]</code>) 或 “选1个”( <code>dp[i-1][ j-c[i] ] + w[i]</code> ) 或 “选2个”( <code>dp[i-1][ j- 2*c[i] ] + 2*w[i]</code> ) ……</p>
<p>有<code>dp[i][j] = max{ dp[i][j] , dp[i-1][j - k*c[i]] + k*w[i] }  (0&lt;=k&lt;=∞ 当 j - k*c[i] &lt;= 0 时结束循环)</code></p>
<p>由于<code>dp[i][j]</code>已经是选出来的最大值了，在计算<code>dp[i][j+cost[i]]</code>时，只需比较<code>dp[i][j]</code>和<code>dp[i-1][j+c[i]]+w[i]</code></p>
<p>也即<code>dp[i][j]=max{ dp[i][j-c[i]]+w[i] , dp[i-1][j] }</code></p>
<p>可以看出来，我们计算<code>dp[i][j]</code>时，需要的是不大于j的i层的数据</p>
<p>因此，应该从前往后刷(正向刷表)</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">CompletePack</span><span class="params">(<span class="keyword">int</span> cost,<span class="keyword">int</span> weight)</span> </span>&#123;</div><div class="line">     <span class="keyword">for</span> (<span class="keyword">int</span> i = cost; i &lt;= v; i++)</div><div class="line">         dp[i] = max(dp[i],dp[i - cost] + weight);</div><div class="line"> &#125;</div></pre></td></tr></table></figure>
<p>同上，使用时只需循环1-n即可</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><div class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i &lt;= n;i++)</div><div class="line">    ComplatePack(c[i],w[i]);</div></pre></td></tr></table></figure>
<h1 id="多重背包问题"><a href="#多重背包问题" class="headerlink" title="多重背包问题"></a>多重背包问题</h1><p>条件：</p>
<ul>
<li>背包大小V</li>
<li>物品件数n(每个物体有无数个)</li>
<li>第i个物品的花费c[i]</li>
<li>第i个物品的价值w[i]</li>
<li>第i个物品的上限max[i]</li>
</ul>
<p>即在保证花费和不超过V的情况下，尽可能让价值最大(有的题目中花费就是价值)</p>
<p>用<code>dp[i][j]</code>表示前i个物品在最大体积为j的情况下的最大价值(所求答案为<code>dp[n][V]</code>)</p>
<p>有<code>dp[i][j] = max{ dp[i-1][ j - k * D[i] ] + k * D[i] , dp[i][j] } (0 &lt;= k &lt;= max[i])</code></p>
<p>此时，时间复杂度为<code>O(V*∑n[i])</code></p>
<p>采用二进制分解可以优化到<code>O(V*∑log n[i])</code></p>
<p>对于数量为0-n的物品i，可以将其分割成多个组合。</p>
<p>使得所有组合加起来能够等于n，并且选取一定量的组合可以组成0-n的任意数</p>
<p>例如13可以分解成1、2、4、6</p>
<blockquote>
<p>0=0<br>1=1<br>2=2<br>3=1+2<br>4=4<br>5=1+4<br>6=2+4<br>7=1+2+4<br>8=2+6<br>9=1+2+6<br>10=4+6<br>11=1+4+6<br>12=2+4+6<br>13=1+2+4+6  </p>
</blockquote>
<p>一个数可以分成两个数，两个数相加可以得到这个数</p>
<p>而这两个数还能继续分成两个数</p>
<p>…………<br>如果分成的两个数相等，则可以再下次分割只分其中一个</p>
<p>这样在保证尽可能少分的情况下分到最深就是需要的计算方法</p>
<p>这样，对于一个最多有n个的物品，可以分成(近似)log(2)n个，然后对这些进行01背包求解</p>
<p>如果物品i的总体积大于背包体积，则不必再分割(在范围内没有上限可以看作无限)。</p>
<p>使用完全背包求解</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">MultiplePack</span><span class="params">(<span class="keyword">int</span> cost,<span class="keyword">int</span> weight,<span class="keyword">int</span> n)</span> </span>&#123;</div><div class="line">    <span class="keyword">if</span> (cost * n &gt; v) &#123;</div><div class="line">        CompletePack(cost,weight);</div><div class="line">    &#125; <span class="keyword">else</span> &#123;</div><div class="line">        <span class="keyword">int</span> k = <span class="number">1</span>;</div><div class="line">        <span class="keyword">while</span> (k &lt; n) &#123;</div><div class="line">            ZeroOnePack(cost * k,weight * k);</div><div class="line">            n -= k;</div><div class="line">            k *= <span class="number">2</span>;</div><div class="line">        &#125;</div><div class="line">        ZeroOnePack(cost * n,weight * n);</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>计算时需要</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><div class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i &lt;= n;i++)</div><div class="line">    MultiplePack(c[i],w[i]，max[i]);</div></pre></td></tr></table></figure>
    

        <a href="/post/Algorithm/Package_Problem.html" class="post-more waves-effect waves-button">
            阅读全文…
        </a>
    </div>
    
    <div class="post-footer">
        
	<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Dp/">动态规划</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/PackageProblem/">背包问题</a></li></ul>

    </div>
    
</article>

        </li>
    
        <li class="post-list-item fade">
            <article id="post-POJ/1276"
  class="article-card article-type-post" itemprop="blogPost">

    <div class="post-meta">
        <time class="post-time" title="2016-04-28 20:41:00 20:41:00" datetime="2016-04-28T12:41:00.000Z"  itemprop="datePublished">2016-04-28 20:41:00</time>

        
	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/Answer/">题解</a></li></ul>



    </div>

    


  
    <h3 class="post-title" itemprop="name">
      <a class="post-title-link" href="/post/POJ/1276.html">POJ 1276.Cash Machine</a>
    </h3>
  




    <div class="post-content" id="post-content" itemprop="postContent">

    
        <h1 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h1><blockquote>
<h2 id="Description"><a href="#Description" class="headerlink" title="Description"></a>Description</h2><blockquote>
<p>A Bank plans to install a machine for cash withdrawal. The machine is able to deliver appropriate @ bills for a requested cash amount. The machine uses exactly N distinct bill denominations, say Dk, k=1,N, and for each denomination Dk the machine has a supply of nk bills. For example, </p>
<p>N=3, n1=10, D1=100, n2=4, D2=50, n3=5, D3=10 </p>
<p>means the machine has a supply of 10 bills of @100 each, 4 bills of @50 each, and 5 bills of @10 each. </p>
<p>Call cash the requested amount of cash the machine should deliver and write a program that computes the maximum amount of cash less than or equal to cash that can be effectively delivered according to the available bill supply of the machine. </p>
<p>Notes:<br>@ is the symbol of the currency delivered by the machine. For instance, @ may stand for dollar, euro, pound etc. </p>
    

        <a href="/post/POJ/1276.html" class="post-more waves-effect waves-button">
            阅读全文…
        </a>
    </div>
    
    <div class="post-footer">
        
	<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/POJ/">POJ</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Dp/">动态规划</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/PackageProblem/">背包问题</a></li></ul>

    </div>
    
</article>

        </li>
    
        <li class="post-list-item fade">
            <article id="post-POJ/1837"
  class="article-card article-type-post" itemprop="blogPost">

    <div class="post-meta">
        <time class="post-time" title="2016-04-26 00:24:00 00:24:00" datetime="2016-04-25T16:24:00.000Z"  itemprop="datePublished">2016-04-26 00:24:00</time>

        
	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/Answer/">题解</a></li></ul>



    </div>

    


  
    <h3 class="post-title" itemprop="name">
      <a class="post-title-link" href="/post/POJ/1837.html">POJ 1837.Balance</a>
    </h3>
  




    <div class="post-content" id="post-content" itemprop="postContent">

    
        <h1 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h1><blockquote>
<h2 id="Description"><a href="#Description" class="headerlink" title="Description"></a>Description</h2><blockquote>
<p>Gigel has a strange “balance” and he wants to poise it. Actually, the device is different from any other ordinary balance.<br> It orders two arms of negligible weight and each arm’s length is 15. Some hooks are attached to these arms and Gigel wants to hang up some weights from his collection of G weights (1 &lt;= G &lt;= 20) knowing that these weights have distinct values in the range 1..25. Gigel may droop any weight of any hook but he is forced to use all the weights.</p>
<p>Finally, Gigel managed to balance the device using the experience he gained at the National Olympiad in Informatics. Now he would like to know in how many ways the device can be balanced.</p>
<p>Knowing the repartition of the hooks and the set of the weights write a program that calculates the number of possibilities to balance the device.</p>
<p>It is guaranteed that will exist at least one solution for each test case at the evaluation.<br>
    

        <a href="/post/POJ/1837.html" class="post-more waves-effect waves-button">
            阅读全文…
        </a>
    </div>
    
    <div class="post-footer">
        
	<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/POJ/">POJ</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Dp/">动态规划</a></li></ul>

    </div>
    
</article>

        </li>
    
    </ul>

    
<nav id="page-nav">
    <div class="inner">
    <a class="extend prev" rel="prev" href="/page/37/">上一页</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/36/">36</a><a class="page-number" href="/page/37/">37</a><span class="page-number current">38</span><a class="page-number" href="/page/39/">39</a><a class="page-number" href="/page/40/">40</a><span class="space">&hellip;</span><a class="page-number" href="/page/47/">47</a><a class="extend next" rel="next" href="/page/39/">下一页</a>
    </div>
</nav>


</div>

        <footer class="footer">
    <div class="top">
        <p>
            
                <span><a href="/atom.xml" target="_blank" class="rss" title="rss"><i class="icon icon-lg icon-rss"></i></a></span>
                
                    

<span id="busuanzi_container_site_uv" style='display:none'>
    站点总访客数：<span id="busuanzi_value_site_uv"></span>
</span>
<span id="busuanzi_container_site_pv" style='display:none'>
    站点总访问量：<span id="busuanzi_value_site_pv"></span>
</span>



                        <!--<span>博客内容遵循 <a rel="license" href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh">知识共享 署名 - 非商业性 - 相同方式共享 4.0 国际协议</a></span>-->
        </p>
        <p>
            <span>
                <a href="https://www.oyohyee.com">OhYee</a> &copy; 2016 - 2017</span>
            <span>
                
                <a href="http://www.miitbeian.gov.cn/" target="_blank">豫ICP备17000379号</a>
                
            </span>
            <span>
                Power by <a href="http://hexo.io/" target="_blank">Hexo</a> Theme <a href="/projects/indigo/" target="_blank">indigo</a>
            </span>
        </p>
    </div>
    <div class="bottom">
        <div class="friends">
            <p>
                
                    <span>
                        <a href="http://hakale.cn/">
                            Hakale
                        </a>
                    </span>
                
                    <span>
                        <a href="http://blog.csdn.net/acblacktea">
                            ACBlackTea
                        </a>
                    </span>
                
                    <span>
                        <a href="http://blog.csdn.net/snow_me">
                            Wilbert
                        </a>
                    </span>
                
                    <span>
                        <a href="http://blog.csdn.net/adjky/">
                            ADjky
                        </a>
                    </span>
                
                    <span>
                        <a href="http://blog.csdn.net/JACK_JYH/">
                            JACK_JYH
                        </a>
                    </span>
                
                    <span>
                        <a href="http://blog.csdn.net/qq_35323001">
                            Super丶xd
                        </a>
                    </span>
                
                    <span>
                        <a href="http://blog.csdn.net/pengwill97">
                            Pengwill
                        </a>
                    </span>
                
                    <span>
                        <a href="http://blog.csdn.net/Mr_Saltyfish">
                            Mr_Saltyfish
                        </a>
                    </span>
                
                    <span>
                        <a href="http://www.cnblogs.com/wmrv587/">
                            wmr
                        </a>
                    </span>
                
                    <span>
                        <a href="http://www.cnblogs.com/robin1998/">
                            Robin
                        </a>
                    </span>
                
            </p>
        </div>
    </div>
</footer>
    </main>
    <div class="mask" id="mask"></div>
<a href="javascript:;" id="gotop" class="waves-effect waves-circle waves-light"><span class="icon icon-lg icon-chevron-up"></span></a>



<div class="global-share" id="globalShare">
    <ul class="reset share-icons">
      <li>
        <a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=https://www.oyohyee.com/page/38/&title=OhYee's Blog&pic=https://www.oyohyee.com/logo.svg" data-title="微博">
          <i class="icon icon-weibo"></i>
        </a>
      </li>
      <li>
        <a class="weixin share-sns wxFab" href="javascript:;" data-title="微信">
          <i class="icon icon-weixin"></i>
        </a>
      </li>
      <li>
        <a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=https://www.oyohyee.com/page/38/&title=OhYee's Blog&source=OhYee在学习算法、编程和生活中的记录" data-title=" QQ">
          <i class="icon icon-qq"></i>
        </a>
      </li>
      <li>
        <a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=https://www.oyohyee.com/page/38/" data-title=" Facebook">
          <i class="icon icon-facebook"></i>
        </a>
      </li>
      <li>
        <a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=OhYee's Blog&url=https://www.oyohyee.com/page/38/&via=https://www.oyohyee.com" data-title=" Twitter">
          <i class="icon icon-twitter"></i>
        </a>
      </li>
      <li>
        <a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=https://www.oyohyee.com/page/38/" data-title=" Google+">
          <i class="icon icon-google-plus"></i>
        </a>
      </li>
    </ul>
 </div>


<div class="page-modal wx-share" id="wxShare">
    <a class="close" href="javascript:;"><i class="icon icon-close"></i></a>
    <p>扫一扫，分享到微信</p>
    <img src="//api.qrserver.com/v1/create-qr-code/?data=https://www.oyohyee.com/page/38/" alt="微信分享二维码">
</div>




    <script src="//cdn.bootcss.com/node-waves/0.7.4/waves.min.js"></script>
<script>
var BLOG = { ROOT: '/', SHARE: true, REWARD: false };


</script>

<script src="/js/main.min.js?v=1.6.13"></script>


<div class="search-panel" id="search-panel">
    <ul class="search-result" id="search-result"></ul>
</div>
<template id="search-tpl">
<li class="item">
    <a href="{path}" class="waves-block waves-effect">
        <div class="title ellipsis" title="{title}">{title}</div>
        <div class="flex-row flex-middle">
            <div class="tags ellipsis">
                {tags}
            </div>
            <time class="flex-col time">{date}</time>
        </div>
    </a>
</li>
</template>

<script src="/js/search.min.js?v=1.6.13" async></script>



<!-- mathjax config similar to math.stackexchange -->

<script type="text/x-mathjax-config">
MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
        processEscapes: true,
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    }
});

MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';
    }
});
</script>

<script async src="//cdn.bootcss.com/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML" async></script>




<script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>





</body>
</html>
