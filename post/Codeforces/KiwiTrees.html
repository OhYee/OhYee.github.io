<!DOCTYPE html>
<html>
<head>
    

    

    



    <meta charset="utf-8">
    
    
    
    <title>NWERC 2016 K-Kiwi Trees | OhYee&#39;s Blog | 随手记录一些东西</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    
    <meta name="theme-color" content="#428bca">
    
    
    <meta name="keywords" content="计算几何,Codeforces">
    <meta name="description" content="题目点击显/隐题目 You are about to plant a pair of fine kiwi trees inside your big property.You are worried that tree branches would grow beyond the boundaries of your property, making your neighbours complai">
<meta name="keywords" content="计算几何,Codeforces">
<meta property="og:type" content="article">
<meta property="og:title" content="NWERC 2016 K-Kiwi Trees">
<meta property="og:url" content="https://www.oyohyee.com/post/Codeforces/KiwiTrees.html">
<meta property="og:site_name" content="OhYee&#39;s Blog">
<meta property="og:description" content="题目点击显/隐题目 You are about to plant a pair of fine kiwi trees inside your big property.You are worried that tree branches would grow beyond the boundaries of your property, making your neighbours complai">
<meta property="og:locale" content="zh-CN">
<meta property="og:image" content="https://www.oyohyee.com/post/img/kiwitrees.png">
<meta property="og:updated_time" content="2017-10-25T12:00:30.057Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="NWERC 2016 K-Kiwi Trees">
<meta name="twitter:description" content="题目点击显/隐题目 You are about to plant a pair of fine kiwi trees inside your big property.You are worried that tree branches would grow beyond the boundaries of your property, making your neighbours complai">
<meta name="twitter:image" content="https://www.oyohyee.com/post/img/kiwitrees.png">
    
        <link rel="alternate" type="application/atom+xml" title="OhYee&#39;s Blog" href="/atom.xml">
    
    <link rel="shortcut icon" href="/favicon.ico">
    <link rel="stylesheet" href="/css/style.css?v=1.6.13">
    <script>window.lazyScripts=[]</script>

    <!-- custom head -->
    
        
            <link href='/css/My.css' rel='stylesheet' type='text/css' />
        
            <script type='text/javascript' src='/js/My.js'></script>
        
            <script type='text/javascript' src='/js/digit.js'></script>
        
    

</head>

<body>
    <div id="loading" class="active"></div>

    <aside id="menu"  >
  <div class="inner flex-row-vertical">
    <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="menu-off">
        <i class="icon icon-lg icon-close"></i>
    </a>
    <div class="brand-wrap" style="background-image:url(/brand.jpg)">
      <div class="brand">
        <a href="/" class="avatar waves-effect waves-circle waves-light">
          <img src="/logo.svg" style="background-color: rgba(255,255,255,1)">
        </a>
        <hgroup class="introduce">
          <h5 class="nickname">OhYee</h5>
          <a href="mailto:oyohyee@oyohyee.com" title="oyohyee@oyohyee.com" class="mail">oyohyee@oyohyee.com</a>
        </hgroup>
      </div>
    </div>
    <div class="scroll-wrap flex-col">
      <ul class="nav">
        
            <li class="waves-block waves-effect">
              <a href="/"  >
                <i class="icon icon-lg icon-home"></i>
                
                主页
                
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/archives"  >
                <i class="icon icon-lg icon-archives"></i>
                
                归档
                
                  <span id="site.posts.length" class="digit"></span>
                
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/categories"  >
                <i class="icon icon-lg icon-th-list"></i>
                
                分类
                
                  <span id="site.categories.length" class="digit"></span>
                
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/tags"  >
                <i class="icon icon-lg icon-tags"></i>
                
                标签
                
                  <span id="site.tags.length" class="digit"></span>
                
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/projects"  >
                <i class="icon icon-lg icon-OhYee"></i>
                
                我的项目
                
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/templates.html"  >
                <i class="icon icon-lg icon-code"></i>
                
                算法模板
                
              </a>
            </li>
        

      <ul class="nav2">
          
              <li class="waves-block waves-effect">
                <a href="/about"  title="关于" >
                  <i class="icon icon-lg icon-address-card address-card"></i>
                </a>
              </li>
          
              <li class="waves-block waves-effect">
                <a href="/gitment"  title="评论系统" >
                  <i class="icon icon-lg icon-commenting commenting"></i>
                </a>
              </li>
          
              <li class="waves-block waves-effect">
                <a href="http://wpa.qq.com/msgrd?v=3&uin=896817156&site=qq&menu=yes" target="_blank" title="QQ联系" >
                  <i class="icon icon-lg icon-qq qq"></i>
                </a>
              </li>
          
              <li class="waves-block waves-effect">
                <a href="https://github.com/OhYee" target="_blank" title="github" >
                  <i class="icon icon-lg icon-github github"></i>
                </a>
              </li>
          
        </ul>

      </ul>
    </div>
  </div>
</aside>

    <main id="main">
        <header class="top-header" id="header">
    <div class="flex-row">
        <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light on" id="menu-toggle">
          <i class="icon icon-lg icon-navicon"></i>
        </a>
        <div class="flex-col header-title ellipsis">NWERC 2016 K-Kiwi Trees</div>
        
        <div class="search-wrap" id="search-wrap">
            <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="back">
                <i class="icon icon-lg icon-chevron-left"></i>
            </a>
            <input type="text" id="key" class="search-input" autocomplete="off" placeholder="输入感兴趣的关键字">
            <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="search">
                <i class="icon icon-lg icon-search"></i>
            </a>
        </div>
        
        
        <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="menuShare">
            <i class="icon icon-lg icon-share-alt"></i>
        </a>
        
    </div>
</header>

<!-- 占位 -->
<div class="holder" style="height:56px"></div>

<header class="content-header post-header" >

    <div class="container fade-scale">
        <h1 class="title">NWERC 2016 K-Kiwi Trees</h1>
        <h5 class="subtitle">
            
                <time datetime="2017-10-25T11:45:31.000Z" itemprop="datePublished" class="page-time">
  2017-10-25 19:45:31
</time>


	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/Answer/">题解</a></li></ul>

            
        </h5>
    </div>

    


</header>


<div class="container body-wrap">
    
    <aside class="post-widget">
        <nav class="post-toc-wrap" id="post-toc">
            <h4>TOC</h4>
            <ol class="post-toc"><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#题目"><span class="post-toc-text">题目</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#题解"><span class="post-toc-text">题解</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#代码"><span class="post-toc-text">代码</span></a></li></ol>
        </nav>
    </aside>
    
<article id="post-Codeforces/KiwiTrees"
  class="post-article article-type-post fade" itemprop="blogPost">

    <div class="post-card">
        <h1 class="post-card-title">NWERC 2016 K-Kiwi Trees</h1>
        <div class="post-meta">
            <time class="post-time" title="2017-10-25 19:45:31 19:45:31" datetime="2017-10-25T11:45:31.000Z"  itemprop="datePublished">2017-10-25 19:45:31</time>

            
	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/Answer/">题解</a></li></ul>



            
<span id="busuanzi_container_page_pv" title="文章总阅读量" style='display:none'>
    <i class="icon icon-eye icon-pr"></i><span id="busuanzi_value_page_pv"></span>
</span>


        </div>
        <div class="post-content" id="post-content" itemprop="postContent">
            <h1 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h1><div class="fold_parent"><div class="fold_hider"><div class="close hider_title">点击显/隐题目</div></div><div class="fold">
<div class="oj"><div class="part" title="Description"><br>You are about to plant a pair of fine kiwi trees inside your big property.<br><br>You are worried that tree branches would grow beyond the boundaries of your property, making your neighbours complain. You must also avoid planting the two trees too close to each other so that the branches of the trees grow into each other, because that could lead to a loss of fruit.<br><br>The seller of the trees guaranteed that no branch or leaf will be farther than 4 meters from the trunk of its tree, thus we will model the trees as circles of radius 4 meters. The trunks are perfectly vertical.<br><br>Local government regulations forbid certain shapes of properties. In particular, in order for government employees to be able to draw and handle maps of the area, each property must satisfy the following properties:<br><br>1. The boundary is a simple polygon, i.e. the sides are non-intersecting and form a closed path.<br><br>2. Each side length of the property is at least 30 meters long.<br><br>3. The angle between any two consecutive sides of the property must be at least 18 degrees ($10%$ of a straight angle), and at most $144$ degrees ($80%$ of a straight angle, or if you will, the angle of a regular decagon).<br><br>Non-convex properties are allowed as long as the angles of consecutive sides follow rule 3 above, so the inner angle at a vertex can also be between $360 − 144 = 216$ and $360 − 18 = 342$ degrees.<br><br>See Figure K.1 for an example.<br><br><br><img src="/post/img/kiwitrees.png" alt=""><br>Figure K.1: Illustration of Sample Input 1 and the solution given in Sample Output 1. All the marked angles are at least 18 and at most 144 degrees.<br><br>Your property follows these rules. Can you plant two trees inside the property such that their branches and leaves do not grow beyond its boundary, and that the branches and leaves of each tree do not grow into the other tree?<br><br><br></div><div class="part" title="Input"><br><br>The input consists of:<br><br>• One line containing an integer n, where $3 ≤ n ≤ 2000$ is the number of vertices of the polygon describing your property.<br><br>• n lines describing one vertex each. Each such line contains two integers $x$ and $y$, where $0 ≤ x, y ≤ 107$. These two numbers denote the x- and y-coordinates of a vertex in millimeters, in a clockwise order as they appear in the polygon.<br><br>Also, each polygon side is at least 30 meters (30 000 millimeters) long and the angle of two segments at a vertex is at least 18 degrees and at most 144 degrees. The polygon is nonintersecting and closed, i.e. the last vertex is connected to the first vertex.<br><br></div><div class="part" title="Output"><br>If it is possible to plant two trees without their branches growing beyond the boundary of your property or into each other, output two lines, each containing two real numbers x and y giving the coordinates in millimeters of two points where the trees can be planted. Otherwise, print “impossible”.<br><br>You may assume that increasing or decreasing the radius by 1 mm will not change whether or not it is possible to plant the trees. Your answer will be accepted if the tree locations are at least 3999 mm away from the boundary and at least 2 · 3999 mm away from each other<br><br></div><div class="samp"><div class="clear"></div><div class="input part" title="Sample Input"><br>4<br>0 3000<br>29000 38000<br>56000 0<br>28000 14000<br><br>3<br>50000 50000<br>69500 73000<br>99000 80000<br><br><br></div><div class="output part" title="Sample Output"><br>32266.13633130 18219.22050526<br>24266.13633130 18219.22050526<br><br>impossible<br><br></div><div class="clear"></div></div></div>
</div></div>
<a id="more"></a>
<h1 id="题解"><a href="#题解" class="headerlink" title="题解"></a>题解</h1><p>根据计算可以发现对于每一个角,可以完全放入一个圆,按照贪心的思想,尽可能地将两个圆距离更远,因此可以直接枚举每个角的内切圆,判断圆是否在图形内部后再枚举两个圆,判断是否相交,不相交则合法  </p>
<p>由于这里不是凸多边形,因此判断点是否在多边形内需要用射线法  </p>
<h1 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h1><div class="fold_parent"><div class="fold_hider"><div class="close hider_title">点击显/隐代码</div></div><div class="fold">
<figure class="highlight cpp"><figcaption><span>Kiwi Trees</span><a href="https://github.com/OhYee/sourcecode/tree/master/ACM">代码备份</a></figcaption><table><tr><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> Log(format, ...) <span class="comment">// printf(format, ##__VA_ARGS__)</span></span></div><div class="line"></div><div class="line"><span class="keyword">const</span> <span class="keyword">double</span> eps = <span class="number">1e-6</span>;</div><div class="line"><span class="keyword">const</span> <span class="keyword">double</span> INF = <span class="number">9e9</span>;</div><div class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Point</span> &#123;</span></div><div class="line">    <span class="keyword">double</span> x, y;</div><div class="line">    <span class="keyword">double</span> r, phi;</div><div class="line">    Point(<span class="keyword">double</span> a = <span class="number">0</span>, <span class="keyword">double</span> b = <span class="number">0</span>, <span class="keyword">bool</span> polar = <span class="literal">false</span>) &#123;</div><div class="line">        <span class="keyword">if</span> (!polar) &#123;</div><div class="line">            x = a;</div><div class="line">            y = b;</div><div class="line">            r = <span class="built_in">sqrt</span>(x * x + y * y);</div><div class="line">            phi = <span class="built_in">atan2</span>(y, x);</div><div class="line">        &#125; <span class="keyword">else</span> &#123;</div><div class="line">            r = a;</div><div class="line">            phi = b;</div><div class="line">            x = r * <span class="built_in">cos</span>(phi);</div><div class="line">            y = r * <span class="built_in">sin</span>(phi);</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    Point <span class="keyword">operator</span>-(<span class="keyword">const</span> Point &amp;rhs) <span class="keyword">const</span> &#123;</div><div class="line">        <span class="keyword">return</span> Point(x - rhs.x, y - rhs.y);</div><div class="line">    &#125;</div><div class="line">    Point <span class="keyword">operator</span>+(<span class="keyword">const</span> Point &amp;rhs) <span class="keyword">const</span> &#123;</div><div class="line">        <span class="keyword">return</span> Point(x + rhs.x, y + rhs.y);</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">double</span> <span class="title">getAngle</span><span class="params">()</span> </span>&#123; <span class="keyword">return</span> <span class="built_in">atan2</span>(y, x); &#125;</div><div class="line">    <span class="function"><span class="keyword">double</span> <span class="title">normal</span><span class="params">()</span> </span>&#123; <span class="keyword">return</span> x * x + y * y; &#125;</div><div class="line">    <span class="function"><span class="keyword">double</span> <span class="title">abs</span><span class="params">()</span> </span>&#123; <span class="keyword">return</span> r; &#125;</div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">print</span><span class="params">(<span class="keyword">bool</span> cr = <span class="literal">false</span>)</span> <span class="keyword">const</span> </span>&#123;</div><div class="line">        Log(<span class="string">"(%.2f %.2f)%s"</span>, x, y, cr ? <span class="string">"\n"</span> : <span class="string">""</span>);</div><div class="line">    &#125;</div><div class="line">&#125;;</div><div class="line"><span class="keyword">typedef</span> Point Vector;</div><div class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Segment</span> &#123;</span></div><div class="line">    Point a, b;</div><div class="line">    Segment() &#123;&#125;</div><div class="line">    Segment(Point _a, Point _b) : a(_a), b(_b) &#123;&#125;</div><div class="line">&#125;;</div><div class="line"></div><div class="line"><span class="function">Point <span class="title">read_point</span><span class="params">()</span> </span>&#123;</div><div class="line">    <span class="keyword">double</span> x, y;</div><div class="line">    <span class="built_in">scanf</span>(<span class="string">"%lf%lf"</span>, &amp;x, &amp;y);</div><div class="line">    <span class="keyword">return</span> Point(x / <span class="number">1000</span>, y / <span class="number">1000</span>);</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">sgn</span><span class="params">(<span class="keyword">const</span> <span class="keyword">double</span> x)</span> </span>&#123;</div><div class="line">    <span class="keyword">if</span> (<span class="built_in">fabs</span>(x) &lt; eps)</div><div class="line">        <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">    <span class="keyword">return</span> x &gt; <span class="number">0</span> ? <span class="number">1</span> : <span class="number">-1</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">double</span> <span class="title">Distance</span><span class="params">(<span class="keyword">const</span> Point &amp;p1, <span class="keyword">const</span> Point &amp;p2)</span> </span>&#123; <span class="keyword">return</span> (p1 - p2).<span class="built_in">abs</span>(); &#125;</div><div class="line"><span class="function"><span class="keyword">double</span> <span class="title">Distance2</span><span class="params">(<span class="keyword">const</span> Point &amp;p1, <span class="keyword">const</span> Point &amp;p2)</span> </span>&#123;</div><div class="line">    <span class="keyword">return</span> (p1 - p2).normal();</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function">Vector <span class="title">rotation</span><span class="params">(Vector v, <span class="keyword">double</span> phi)</span> </span>&#123; <span class="keyword">return</span> Vector(v.r, v.phi + phi, <span class="literal">true</span>); &#125;</div><div class="line"></div><div class="line"><span class="comment">// p2-&gt;p1 p2-&gt;p3</span></div><div class="line"><span class="function">Point <span class="title">getCircle</span><span class="params">(<span class="keyword">const</span> Point &amp;p1, <span class="keyword">const</span> Point &amp;p2, <span class="keyword">const</span> Point &amp;p3)</span> </span>&#123;</div><div class="line">    Vector v1 = p1 - p2;</div><div class="line">    Vector v2 = p3 - p2;</div><div class="line"></div><div class="line">    p1.print();</div><div class="line">    p2.print();</div><div class="line">    p3.print(<span class="number">1</span>);</div><div class="line"></div><div class="line">    Log(<span class="string">"V1: "</span>);</div><div class="line">    v1.print(<span class="number">1</span>);</div><div class="line">    Log(<span class="string">"V2: "</span>);</div><div class="line">    v2.print(<span class="number">1</span>);</div><div class="line"></div><div class="line">    <span class="keyword">double</span> ang = (v2.getAngle() - v1.getAngle()) * <span class="number">0.5</span>;</div><div class="line"></div><div class="line">    Vector v = rotation(v1, ang);</div><div class="line">    <span class="keyword">double</span> dis = <span class="number">4.0</span> / <span class="built_in">sin</span>(ang);</div><div class="line"></div><div class="line">    Point p = p2 + Point(dis, v.phi, <span class="literal">true</span>);</div><div class="line"></div><div class="line">    Log(<span class="string">"Circle Point:"</span>);</div><div class="line">    p.print(<span class="number">1</span>);</div><div class="line"></div><div class="line">    <span class="keyword">return</span> p;</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">inline</span> <span class="keyword">double</span> <span class="title">Cross</span><span class="params">(<span class="keyword">const</span> Vector &amp;a, <span class="keyword">const</span> Vector &amp;b)</span> </span>&#123;</div><div class="line">    <span class="keyword">return</span> a.x * b.y - a.y * b.x;</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">inline</span> <span class="keyword">int</span> <span class="title">Point_Segment</span><span class="params">(<span class="keyword">const</span> Vector &amp;p, <span class="keyword">const</span> Segment &amp;L)</span> </span>&#123;</div><div class="line">    <span class="comment">// printf("Point_segment %d\n", sgn(Cross(L.b - L.a, p - L.a)));</span></div><div class="line">    <span class="keyword">return</span> sgn(Cross(L.b - L.a, p - L.a));</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">/**</span></div><div class="line"><span class="comment">    * 计算两个线段的位置关系</span></div><div class="line"><span class="comment">    * @param L1 线段L1</span></div><div class="line"><span class="comment">    * @param L2 线段L2</span></div><div class="line"><span class="comment">    * @param p  返回交点坐标</span></div><div class="line"><span class="comment">    * @return   2   重叠</span></div><div class="line"><span class="comment">                1   相交</span></div><div class="line"><span class="comment">                0   延长线相交</span></div><div class="line"><span class="comment">                -1  平行</span></div><div class="line"><span class="comment">                -2  共线不交</span></div><div class="line"><span class="comment">    */</span></div><div class="line"><span class="function"><span class="keyword">inline</span> <span class="keyword">int</span> <span class="title">Segment_Segment</span><span class="params">(<span class="keyword">const</span> Segment &amp;L1, <span class="keyword">const</span> Segment &amp;L2,</span></span></div><div class="line"><span class="function"><span class="params">                           Point *p = <span class="literal">NULL</span>)</span> </span>&#123;</div><div class="line">    <span class="keyword">double</span> a = L1.b.x - L1.a.x;</div><div class="line">    <span class="keyword">double</span> b = L2.b.x - L2.a.x;</div><div class="line">    <span class="keyword">double</span> c = L1.b.y - L1.a.y;</div><div class="line">    <span class="keyword">double</span> d = L2.b.y - L2.a.y;</div><div class="line">    <span class="keyword">double</span> f = a * d - b * c;</div><div class="line">    <span class="comment">// 平行或重叠</span></div><div class="line">    <span class="keyword">if</span> (sgn(f) == <span class="number">0</span>) &#123;</div><div class="line">        <span class="keyword">return</span> <span class="number">-1</span>;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">double</span> g = L2.b.x - L1.a.x;</div><div class="line">    <span class="keyword">double</span> h = L2.b.y - L1.a.y;</div><div class="line">    <span class="keyword">double</span> t = (d * g - b * h) / f;</div><div class="line">    <span class="keyword">double</span> s = (-c * g + a * h) / f;</div><div class="line">    <span class="keyword">if</span> (p != <span class="literal">NULL</span>)</div><div class="line">        *p = Point(L1.a.x + t * a, L1.a.y + t * c);</div><div class="line">    <span class="comment">// 在延长线上</span></div><div class="line">    <span class="keyword">if</span> (t &lt; <span class="number">0</span> || t &gt; <span class="number">1</span> || s &lt; <span class="number">0</span> || s &gt; <span class="number">1</span>)</div><div class="line">        <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">    <span class="comment">// 线段相交</span></div><div class="line">    <span class="keyword">return</span> <span class="number">1</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">bool</span> <span class="title">Point_Polygon</span><span class="params">(<span class="keyword">const</span> Point &amp;p, <span class="keyword">const</span> Point polygon[], <span class="keyword">int</span> numberOfSide)</span> </span>&#123;</div><div class="line">    <span class="keyword">bool</span> ok =</div><div class="line">        Point_Segment(p, Segment(polygon[numberOfSide - <span class="number">1</span>], polygon[<span class="number">0</span>])) &gt;= <span class="number">0</span>;</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; numberOfSide &amp;&amp; ok; ++i) &#123;</div><div class="line">        <span class="keyword">if</span> (!(Point_Segment(p, Segment(polygon[i - <span class="number">1</span>], polygon[i])) &gt;= <span class="number">0</span>))</div><div class="line">            ok = <span class="literal">false</span>;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> ok;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">bool</span> <span class="title">Point_Polygon2</span><span class="params">(<span class="keyword">const</span> Point &amp;p, <span class="keyword">const</span> Point polygon[], <span class="keyword">int</span> numberOfSide)</span> </span>&#123;</div><div class="line">    Segment s = Segment(Point(INF, INF), p);</div><div class="line">    <span class="keyword">int</span> cnt = <span class="number">0</span>;</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; numberOfSide; ++i) &#123;</div><div class="line">        <span class="keyword">if</span> (Segment_Segment(</div><div class="line">                s, Segment(polygon[i], polygon[(i + <span class="number">1</span>) % numberOfSide])) == <span class="number">1</span>)</div><div class="line">            ++cnt;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> cnt % <span class="number">2</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">2005</span>;</div><div class="line">Point p[maxn], c[maxn];</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</div><div class="line">    <span class="keyword">int</span> n;</div><div class="line">    <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;n);</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; ++i)</div><div class="line">        p[i] = read_point();</div><div class="line">    <span class="keyword">int</span> pos = <span class="number">0</span>;</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; ++i) &#123;</div><div class="line">        Point pp = getCircle(p[i], p[(i + <span class="number">1</span>) % n], p[(i + <span class="number">2</span>) % n]);</div><div class="line">        <span class="keyword">if</span> (Point_Polygon2(pp, p, n))</div><div class="line">            c[pos++] = pp;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; pos; ++i)</div><div class="line">        c[i].print(<span class="number">1</span>);</div><div class="line"></div><div class="line">    <span class="keyword">bool</span> ok = <span class="literal">false</span>;</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; pos &amp;&amp; !ok; ++i)</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = i + <span class="number">1</span>; j &lt; pos &amp;&amp; !ok; ++j)</div><div class="line">            <span class="keyword">if</span> (sgn(Distance(c[i], c[j]) - <span class="number">8.0</span>) &gt;= <span class="number">0</span>) &#123;</div><div class="line">                <span class="built_in">printf</span>(<span class="string">"%9f %.9f\n%.9f %.9f\n"</span>, c[i].x*<span class="number">1000</span>, c[i].y*<span class="number">1000</span>, c[j].x*<span class="number">1000</span>, c[j].y*<span class="number">1000</span>);</div><div class="line">                ok = <span class="literal">true</span>;</div><div class="line">            &#125;</div><div class="line">    <span class="keyword">if</span> (!ok)</div><div class="line">        <span class="built_in">printf</span>(<span class="string">"impossible\n"</span>);</div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>

</div></div>

        </div>

        <blockquote class="post-copyright">
    <div class="content">
        

        
        文章标题：  <a href="/post/Codeforces/KiwiTrees.html" target="_blank" rel="external">NWERC 2016 K-Kiwi Trees</a><br>文章地址：  <a href="/post/Codeforces/KiwiTrees.html" target="_blank" rel="external">https://www.oyohyee.com/post/Codeforces/KiwiTrees.html</a><br>创建时间：  2017-10-25 19:45:31<br>更新时间：  2017-10-25 20:00:30
        
    </div>
    <footer>
        <a href="https://www.oyohyee.com">
            <img src="/logo.svg" alt="OhYee">
            OhYee
        </a>
    </footer>
</blockquote>

        
<div class="page-reward">
    <a id="rewardBtn" href="javascript:;" class="page-reward-btn waves-effect waves-circle waves-light">赏</a>
</div>



        <div class="post-footer">
            
	<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Codeforces/">Codeforces</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/geometry/">计算几何</a></li></ul>


            
<div class="page-share-wrap">
    

<div class="page-share" id="pageShare">
    <ul class="reset share-icons">
      <li>
        <a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=https://www.oyohyee.com/post/Codeforces/KiwiTrees.html&title=《NWERC 2016 K-Kiwi Trees》 — OhYee's Blog&pic=https://www.oyohyee.com/logo.svg" data-title="微博">
          <i class="icon icon-weibo"></i>
        </a>
      </li>
      <li>
        <a class="weixin share-sns wxFab" href="javascript:;" data-title="微信">
          <i class="icon icon-weixin"></i>
        </a>
      </li>
      <li>
        <a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=https://www.oyohyee.com/post/Codeforces/KiwiTrees.html&title=《NWERC 2016 K-Kiwi Trees》 — OhYee's Blog&source=题目点击显/隐题目
You are about to plant a pair of fine kiwi trees inside your big pr..." data-title=" QQ">
          <i class="icon icon-qq"></i>
        </a>
      </li>
      <li>
        <a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=https://www.oyohyee.com/post/Codeforces/KiwiTrees.html" data-title=" Facebook">
          <i class="icon icon-facebook"></i>
        </a>
      </li>
      <li>
        <a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=《NWERC 2016 K-Kiwi Trees》 — OhYee's Blog&url=https://www.oyohyee.com/post/Codeforces/KiwiTrees.html&via=https://www.oyohyee.com" data-title=" Twitter">
          <i class="icon icon-twitter"></i>
        </a>
      </li>
      <li>
        <a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=https://www.oyohyee.com/post/Codeforces/KiwiTrees.html" data-title=" Google+">
          <i class="icon icon-google-plus"></i>
        </a>
      </li>
    </ul>
 </div>



    <a href="javascript:;" id="shareFab" class="page-share-fab waves-effect waves-circle">
        <i class="icon icon-share-alt icon-lg"></i>
    </a>
</div>



        </div>
    </div>

    
<nav class="post-nav flex-row flex-justify-between flex-row-reverse">
  

  
    <div class="waves-block waves-effect next">
      <a href="/post/jisuanke/17318.html" id="post-next" class="post-nav-link">
        <div class="tips">Next <i class="icon icon-angle-right icon-lg icon-pl"></i></div>
        <h4 class="title">计蒜客 17318.Line Segments Clipped by Windows</h4>
      </a>
    </div>
  
</nav>



    











<section class="comments" id="comments">
    <div id="gitment_thread"></div>
    <link rel="stylesheet" href="/css/gitment.css">
    <script src="/js/gitment.js"></script>
    <script>
        var gitment = new Gitment({
            id: "Gitment",
            owner: 'OhYee',
            repo: 'OhYee.github.io',
            oauth: {
                client_id: '300bdf519730fd67e69c',
                client_secret: '9a496df1c4da10cec1ec233379b9b3ef6a448c2e',
            },
        })
        gitment.render('comments')
    </script>
</section>




</article>

<div id="reward" class="page-modal reward-lay">
    <a class="close" href="javascript:;"><i class="icon icon-close"></i></a>
    <h3 class="reward-title">
        <i class="icon icon-quote-left"></i>
        谢谢大爷~
        <i class="icon icon-quote-right"></i>
    </h3>
    <div class="reward-content">
        
        <div class="reward-code">
            <img id="rewardCode" src="/wechatimg.jpg" alt="打赏二维码">
        </div>
        
        <label class="reward-toggle">
            <input id="rewardToggle" type="checkbox" class="reward-toggle-check"
                data-wechat="/wechatimg.jpg" data-alipay="/alipayimg.jpg">
            <div class="reward-toggle-ctrol">
                <span class="reward-toggle-item wechat">微信</span>
                <span class="reward-toggle-label"></span>
                <span class="reward-toggle-item alipay">支付宝</span>
            </div>
        </label>
        
    </div>
</div>



</div>

        <footer class="footer">
    <div class="top">
        <p>
            
                <span><a href="/atom.xml" target="_blank" class="rss" title="rss"><i class="icon icon-lg icon-rss"></i></a></span>
                
                    

<span id="busuanzi_container_site_uv" style='display:none'>
    站点总访客数：<span id="busuanzi_value_site_uv"></span>
</span>
<span id="busuanzi_container_site_pv" style='display:none'>
    站点总访问量：<span id="busuanzi_value_site_pv"></span>
</span>



                        <!--<span>博客内容遵循 <a rel="license" href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh">知识共享 署名 - 非商业性 - 相同方式共享 4.0 国际协议</a></span>-->
        </p>
        <p>
            <span>
                <a href="https://www.oyohyee.com">OhYee</a> &copy; 2016 - 2017</span>
            <span>
                
                <a href="http://www.miitbeian.gov.cn/" target="_blank">豫ICP备17000379号</a>
                
            </span>
            <span>
                Power by <a href="http://hexo.io/" target="_blank">Hexo</a> Theme <a href="/projects/indigo/" target="_blank">indigo</a>
            </span>
        </p>
    </div>
    <div class="bottom">
        <div class="friends">
            <p>
                
                    <span>
                        <a href="http://hakale.cn/">
                            Hakale
                        </a>
                    </span>
                
                    <span>
                        <a href="http://blog.csdn.net/acblacktea">
                            ACBlackTea
                        </a>
                    </span>
                
                    <span>
                        <a href="http://blog.csdn.net/snow_me">
                            Wilbert
                        </a>
                    </span>
                
                    <span>
                        <a href="http://blog.csdn.net/adjky/">
                            ADjky
                        </a>
                    </span>
                
                    <span>
                        <a href="http://blog.csdn.net/JACK_JYH/">
                            JACK_JYH
                        </a>
                    </span>
                
                    <span>
                        <a href="http://blog.csdn.net/qq_35323001">
                            Super丶xd
                        </a>
                    </span>
                
                    <span>
                        <a href="http://blog.csdn.net/pengwill97">
                            Pengwill
                        </a>
                    </span>
                
                    <span>
                        <a href="http://blog.csdn.net/Mr_Saltyfish">
                            Mr_Saltyfish
                        </a>
                    </span>
                
                    <span>
                        <a href="http://www.cnblogs.com/wmrv587/">
                            wmr
                        </a>
                    </span>
                
                    <span>
                        <a href="http://www.cnblogs.com/robin1998/">
                            Robin
                        </a>
                    </span>
                
            </p>
        </div>
    </div>
</footer>
    </main>
    <div class="mask" id="mask"></div>
<a href="javascript:;" id="gotop" class="waves-effect waves-circle waves-light"><span class="icon icon-lg icon-chevron-up"></span></a>



<div class="global-share" id="globalShare">
    <ul class="reset share-icons">
      <li>
        <a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=https://www.oyohyee.com/post/Codeforces/KiwiTrees.html&title=《NWERC 2016 K-Kiwi Trees》 — OhYee's Blog&pic=https://www.oyohyee.com/logo.svg" data-title="微博">
          <i class="icon icon-weibo"></i>
        </a>
      </li>
      <li>
        <a class="weixin share-sns wxFab" href="javascript:;" data-title="微信">
          <i class="icon icon-weixin"></i>
        </a>
      </li>
      <li>
        <a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=https://www.oyohyee.com/post/Codeforces/KiwiTrees.html&title=《NWERC 2016 K-Kiwi Trees》 — OhYee's Blog&source=题目点击显/隐题目
You are about to plant a pair of fine kiwi trees inside your big pr..." data-title=" QQ">
          <i class="icon icon-qq"></i>
        </a>
      </li>
      <li>
        <a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=https://www.oyohyee.com/post/Codeforces/KiwiTrees.html" data-title=" Facebook">
          <i class="icon icon-facebook"></i>
        </a>
      </li>
      <li>
        <a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=《NWERC 2016 K-Kiwi Trees》 — OhYee's Blog&url=https://www.oyohyee.com/post/Codeforces/KiwiTrees.html&via=https://www.oyohyee.com" data-title=" Twitter">
          <i class="icon icon-twitter"></i>
        </a>
      </li>
      <li>
        <a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=https://www.oyohyee.com/post/Codeforces/KiwiTrees.html" data-title=" Google+">
          <i class="icon icon-google-plus"></i>
        </a>
      </li>
    </ul>
 </div>


<div class="page-modal wx-share" id="wxShare">
    <a class="close" href="javascript:;"><i class="icon icon-close"></i></a>
    <p>扫一扫，分享到微信</p>
    <img src="//api.qrserver.com/v1/create-qr-code/?data=https://www.oyohyee.com/post/Codeforces/KiwiTrees.html" alt="微信分享二维码">
</div>




    <script src="//cdn.bootcss.com/node-waves/0.7.4/waves.min.js"></script>
<script>
var BLOG = { ROOT: '/', SHARE: true, REWARD: true };


</script>

<script src="/js/main.min.js?v=1.6.13"></script>


<div class="search-panel" id="search-panel">
    <ul class="search-result" id="search-result"></ul>
</div>
<template id="search-tpl">
<li class="item">
    <a href="{path}" class="waves-block waves-effect">
        <div class="title ellipsis" title="{title}">{title}</div>
        <div class="flex-row flex-middle">
            <div class="tags ellipsis">
                {tags}
            </div>
            <time class="flex-col time">{date}</time>
        </div>
    </a>
</li>
</template>

<script src="/js/search.min.js?v=1.6.13" async></script>



<!-- mathjax config similar to math.stackexchange -->

<script type="text/x-mathjax-config">
MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
        processEscapes: true,
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    }
});

MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';
    }
});
</script>

<script async src="//cdn.bootcss.com/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML" async></script>




<script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>





</body>
</html>
