<!DOCTYPE html>
<html>
<head>
    

    

    



    <meta charset="utf-8">
    
    
    
    <title>HDU 1026.Ignatius and the Princess I | OhYee&#39;s Blog | 随手记录一些东西</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    
    <meta name="theme-color" content="#428bca">
    
    
    <meta name="keywords" content="HDU,Dijkstra,最短路,图论,BFS,队列(queue)">
    <meta name="description" content="题目 DescriptionThe Princess has been abducted by the BEelzebub feng5166, our hero Ignatius has to rescue our pretty Princess. Now he gets into feng5166’s castle. The castle is a large labyrinth. To mak">
<meta name="keywords" content="HDU,Dijkstra,最短路,图论,BFS,队列(queue)">
<meta property="og:type" content="article">
<meta property="og:title" content="HDU 1026.Ignatius and the Princess I">
<meta property="og:url" content="https://www.oyohyee.com/post/HDU/1026.html">
<meta property="og:site_name" content="OhYee&#39;s Blog">
<meta property="og:description" content="题目 DescriptionThe Princess has been abducted by the BEelzebub feng5166, our hero Ignatius has to rescue our pretty Princess. Now he gets into feng5166’s castle. The castle is a large labyrinth. To mak">
<meta property="og:locale" content="zh-CN">
<meta property="og:updated_time" content="2017-08-25T12:31:44.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="HDU 1026.Ignatius and the Princess I">
<meta name="twitter:description" content="题目 DescriptionThe Princess has been abducted by the BEelzebub feng5166, our hero Ignatius has to rescue our pretty Princess. Now he gets into feng5166’s castle. The castle is a large labyrinth. To mak">
    
        <link rel="alternate" type="application/atom+xml" title="OhYee&#39;s Blog" href="/atom.xml">
    
    <link rel="shortcut icon" href="/favicon.ico">
    <link rel="stylesheet" href="/css/style.css?v=1.6.13">
    <script>window.lazyScripts=[]</script>

    <!-- custom head -->
    
        
            <link href='/css/My.css' rel='stylesheet' type='text/css' />
        
            <script type='text/javascript' src='/js/My.js'></script>
        
            <script type='text/javascript' src='/js/digit.js'></script>
        
    

</head>

<body>
    <div id="loading" class="active"></div>

    <aside id="menu"  >
  <div class="inner flex-row-vertical">
    <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="menu-off">
        <i class="icon icon-lg icon-close"></i>
    </a>
    <div class="brand-wrap" style="background-image:url(/brand.jpg)">
      <div class="brand">
        <a href="/" class="avatar waves-effect waves-circle waves-light">
          <img src="/logo.svg" style="background-color: rgba(255,255,255,1)">
        </a>
        <hgroup class="introduce">
          <h5 class="nickname">OhYee</h5>
          <a href="mailto:oyohyee@oyohyee.com" title="oyohyee@oyohyee.com" class="mail">oyohyee@oyohyee.com</a>
        </hgroup>
      </div>
    </div>
    <div class="scroll-wrap flex-col">
      <ul class="nav">
        
            <li class="waves-block waves-effect">
              <a href="/"  >
                <i class="icon icon-lg icon-home"></i>
                
                主页
                
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/archives"  >
                <i class="icon icon-lg icon-archives"></i>
                
                归档
                
                  <span id="site.posts.length" class="digit"></span>
                
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/categories"  >
                <i class="icon icon-lg icon-th-list"></i>
                
                分类
                
                  <span id="site.categories.length" class="digit"></span>
                
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/tags"  >
                <i class="icon icon-lg icon-tags"></i>
                
                标签
                
                  <span id="site.tags.length" class="digit"></span>
                
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/projects"  >
                <i class="icon icon-lg icon-OhYee"></i>
                
                我的项目
                
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/templates.html"  >
                <i class="icon icon-lg icon-code"></i>
                
                算法模板
                
              </a>
            </li>
        

      <ul class="nav2">
          
              <li class="waves-block waves-effect">
                <a href="/about"  title="关于" >
                  <i class="icon icon-lg icon-address-card address-card"></i>
                </a>
              </li>
          
              <li class="waves-block waves-effect">
                <a href="/gitment"  title="评论系统" >
                  <i class="icon icon-lg icon-commenting commenting"></i>
                </a>
              </li>
          
              <li class="waves-block waves-effect">
                <a href="http://wpa.qq.com/msgrd?v=3&uin=896817156&site=qq&menu=yes" target="_blank" title="QQ联系" >
                  <i class="icon icon-lg icon-qq qq"></i>
                </a>
              </li>
          
              <li class="waves-block waves-effect">
                <a href="https://github.com/OhYee" target="_blank" title="github" >
                  <i class="icon icon-lg icon-github github"></i>
                </a>
              </li>
          
        </ul>

      </ul>
    </div>
  </div>
</aside>

    <main id="main">
        <header class="top-header" id="header">
    <div class="flex-row">
        <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light on" id="menu-toggle">
          <i class="icon icon-lg icon-navicon"></i>
        </a>
        <div class="flex-col header-title ellipsis">HDU 1026.Ignatius and the Princess I</div>
        
        <div class="search-wrap" id="search-wrap">
            <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="back">
                <i class="icon icon-lg icon-chevron-left"></i>
            </a>
            <input type="text" id="key" class="search-input" autocomplete="off" placeholder="输入感兴趣的关键字">
            <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="search">
                <i class="icon icon-lg icon-search"></i>
            </a>
        </div>
        
        
        <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="menuShare">
            <i class="icon icon-lg icon-share-alt"></i>
        </a>
        
    </div>
</header>

<!-- 占位 -->
<div class="holder" style="height:56px"></div>

<header class="content-header post-header" >

    <div class="container fade-scale">
        <h1 class="title">HDU 1026.Ignatius and the Princess I</h1>
        <h5 class="subtitle">
            
                <time datetime="2016-04-19T13:05:00.000Z" itemprop="datePublished" class="page-time">
  2016-04-19 21:05:00
</time>


	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/Answer/">题解</a></li></ul>

            
        </h5>
    </div>

    


</header>


<div class="container body-wrap">
    
    <aside class="post-widget">
        <nav class="post-toc-wrap" id="post-toc">
            <h4>TOC</h4>
            <ol class="post-toc"><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#题目"><span class="post-toc-text">题目</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#Description"><span class="post-toc-text">Description</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#Input"><span class="post-toc-text">Input</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#Output"><span class="post-toc-text">Output</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#Sample-Input"><span class="post-toc-text">Sample Input</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#Sample-Output"><span class="post-toc-text">Sample Output</span></a></li></ol></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#题解"><span class="post-toc-text">题解</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#代码"><span class="post-toc-text">代码</span></a></li></ol>
        </nav>
    </aside>
    
<article id="post-HDU/1026"
  class="post-article article-type-post fade" itemprop="blogPost">

    <div class="post-card">
        <h1 class="post-card-title">HDU 1026.Ignatius and the Princess I</h1>
        <div class="post-meta">
            <time class="post-time" title="2016-04-19 21:05:00 21:05:00" datetime="2016-04-19T13:05:00.000Z"  itemprop="datePublished">2016-04-19 21:05:00</time>

            
	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/Answer/">题解</a></li></ul>



            
<span id="busuanzi_container_page_pv" title="文章总阅读量" style='display:none'>
    <i class="icon icon-eye icon-pr"></i><span id="busuanzi_value_page_pv"></span>
</span>


        </div>
        <div class="post-content" id="post-content" itemprop="postContent">
            <h1 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h1><blockquote>
<h2 id="Description"><a href="#Description" class="headerlink" title="Description"></a>Description</h2><p>The Princess has been abducted by the BEelzebub feng5166, our hero Ignatius has to rescue our pretty Princess. Now he gets into feng5166’s castle. The castle is a large labyrinth. To make the problem simply, we assume the labyrinth is a N*M two-dimensional array which left-top corner is (0,0) and &gt; &gt; right-bottom corner is (N-1,M-1). Ignatius enters at (0,0), and the door to feng5166’s room is at (N-1,M-1), that is our target. There are some monsters in the castle, if Ignatius meet them, he has to kill them. Here is some rules:  </p>
<blockquote>
<p>1.Ignatius can only move in four directions(up, down, left, right), one step per second. A step is defined as follow: if current position is (x,y), after a step, Ignatius can only stand on (x-1,y), (x+1,y), (x,y-1) or (x,y+1).<br>2.The array is marked with some characters and numbers. We define them like this:<br>. : The place where Ignatius can walk on.<br>X : The place is a trap, Ignatius should not walk on it.<br>n : Here is a monster with n HP(1&lt;=n&lt;=9), if Ignatius walk on it, it takes him n seconds to kill the monster.  </p>
<p>Your task is to give out the path which costs minimum seconds for Ignatius to reach target position. You may assume that the start position and the target position will never be a trap, and there will never be a monster at the start position.<br><a id="more"></a>   </p>
</blockquote>
<h2 id="Input"><a href="#Input" class="headerlink" title="Input"></a>Input</h2><blockquote>
<p>The input contains several test cases. Each test case starts with a line contains two numbers N and M(2=N&lt;=100,2&lt;=M&lt;=100) which indicate the size of the labyrinth. Then a N*M two-dimensional array follows, which describe the whole labyrinth. The input is terminated by the end of file. More details in the Sample Input.  </p>
</blockquote>
<h2 id="Output"><a href="#Output" class="headerlink" title="Output"></a>Output</h2><blockquote>
<p>For each test case, you should output “God please help our poor hero.” if Ignatius can’t reach the target position, or you should output “It takes n seconds to reach the target position, let me show you the way.”(n is the minimum seconds), and tell our hero the whole path. Output a line contains “FINISH” after each test case. If there are more than one path, any one is OK in this problem. More details in the Sample Output.  </p>
</blockquote>
<h2 id="Sample-Input"><a href="#Sample-Input" class="headerlink" title="Sample Input"></a>Sample Input</h2><blockquote>
<p>5 6<br>.XX.1.<br>..X.2.<br>2…X.<br>…XX.<br>XXXXX.<br>5 6<br>.XX.1.<br>..X.2.<br>2…X.<br>…XX.<br>XXXXX1<br>5 6<br>.XX…<br>..XX1.<br>2…X.<br>…XX.<br>XXXXX.  </p>
</blockquote>
<h2 id="Sample-Output"><a href="#Sample-Output" class="headerlink" title="Sample Output"></a>Sample Output</h2><blockquote>
<p>It takes 13 seconds to reach the target position, let me show you the way.<br>1s:(0,0)-&gt;(1,0)<br>2s:(1,0)-&gt;(1,1)<br>3s:(1,1)-&gt;(2,1)<br>4s:(2,1)-&gt;(2,2)<br>5s:(2,2)-&gt;(2,3)<br>6s:(2,3)-&gt;(1,3)<br>7s:(1,3)-&gt;(1,4)<br>8s:FIGHT AT (1,4)<br>9s:FIGHT AT (1,4)<br>10s:(1,4)-&gt;(1,5)<br>11s:(1,5)-&gt;(2,5)<br>12s:(2,5)-&gt;(3,5)<br>13s:(3,5)-&gt;(4,5)<br>FINISH<br>It takes 14 seconds to reach the target position, let me show you the way.<br>1s:(0,0)-&gt;(1,0)<br>2s:(1,0)-&gt;(1,1)<br>3s:(1,1)-&gt;(2,1)<br>4s:(2,1)-&gt;(2,2)<br>5s:(2,2)-&gt;(2,3)<br>6s:(2,3)-&gt;(1,3)<br>7s:(1,3)-&gt;(1,4)<br>8s:FIGHT AT (1,4)<br>9s:FIGHT AT (1,4)<br>10s:(1,4)-&gt;(1,5)<br>11s:(1,5)-&gt;(2,5)<br>12s:(2,5)-&gt;(3,5)<br>13s:(3,5)-&gt;(4,5)<br>14s:FIGHT AT (4,5)<br>FINISH<br>God please help our poor hero.<br>FINISH  </p>
</blockquote>
</blockquote>
<h1 id="题解"><a href="#题解" class="headerlink" title="题解"></a>题解</h1><p>这道题牵扯到了权值</p>
<p>因此，不能单纯地使用BFS</p>
<p>在牵扯权值时，我们要不断走最短的路，使用<strong>dijkstra算法</strong></p>
<p>以怪物的HP+1(移动耗时+战斗耗时)为权值(没有怪物权值为1)</p>
<p>由于最后要输出路径， 因此每次进行松弛操作(更新距离)要记录下最短的路径</p>
<p>最后输出需要正序输出，因此可使用栈</p>
<h1 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h1><figure class="highlight cpp"><table><tr><td class="code"><pre><div class="line"><span class="comment">/*</span></div><div class="line"><span class="comment">By:OhYee</span></div><div class="line"><span class="comment">Github:OhYee</span></div><div class="line"><span class="comment">Email:oyohyee@oyohyee.com</span></div><div class="line"><span class="comment">Blog:http://www.cnblogs.com/ohyee/</span></div><div class="line"><span class="comment"></span></div><div class="line"><span class="comment">かしこいかわいい？</span></div><div class="line"><span class="comment">エリーチカ！</span></div><div class="line"><span class="comment">要写出来Хорошо的代码哦~</span></div><div class="line"><span class="comment">*/</span></div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;list&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stack&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"></div><div class="line"><span class="comment">//DEBUG MODE</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> debug 0</span></div><div class="line"></div><div class="line"><span class="comment">//循环</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> REP(n) for(int o=0;o&lt;n;o++)</span></div><div class="line"></div><div class="line"></div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">155</span>;</div><div class="line"></div><div class="line"><span class="keyword">int</span> N,M;</div><div class="line"><span class="keyword">char</span> Map[maxn][maxn];</div><div class="line">pair&lt;<span class="keyword">int</span>,<span class="keyword">int</span>&gt; last[maxn][maxn];</div><div class="line"><span class="keyword">int</span> dis[maxn][maxn];</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">struct</span> <span class="title">point</span> &#123;</span></div><div class="line">    <span class="keyword">int</span> x,y;</div><div class="line">    <span class="keyword">int</span> dis;</div><div class="line">    point(<span class="keyword">int</span> a,<span class="keyword">int</span> b,<span class="keyword">int</span> c) &#123;</div><div class="line">        x = a;</div><div class="line">        y = b;</div><div class="line">        dis = c;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">bool</span> <span class="keyword">operator</span> &lt; (<span class="keyword">const</span> point &amp;rhs)<span class="keyword">const</span> &#123;</div><div class="line">        <span class="keyword">return</span> dis &gt; rhs.dis;</div><div class="line">    &#125;</div><div class="line">&#125;;</div><div class="line"></div><div class="line"></div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> delta[] = &#123;<span class="number">1</span>,<span class="number">-1</span>,<span class="number">0</span>,<span class="number">0</span>&#125;;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">BFS</span><span class="params">()</span> </span>&#123;</div><div class="line">    priority_queue&lt;point&gt; Q;</div><div class="line">    <span class="keyword">bool</span> visited[maxn][maxn];</div><div class="line">    <span class="built_in">memset</span>(visited,<span class="literal">false</span>,<span class="keyword">sizeof</span>(visited));</div><div class="line">    <span class="built_in">memset</span>(dis,<span class="number">-1</span>,<span class="keyword">sizeof</span>(dis));</div><div class="line"></div><div class="line">    Q.push(point(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>));</div><div class="line">    dis[<span class="number">0</span>][<span class="number">0</span>] = <span class="number">0</span>;</div><div class="line"></div><div class="line">    <span class="keyword">while</span> (!Q.empty()) &#123;</div><div class="line"></div><div class="line">        <span class="keyword">int</span> th1 = Q.top().x;</div><div class="line">        <span class="keyword">int</span> th2 = Q.top().y;</div><div class="line">        <span class="keyword">int</span> thdis = Q.top().dis;</div><div class="line">        Q.pop();</div><div class="line"></div><div class="line">        <span class="keyword">if</span> (visited[th1][th2] == <span class="literal">true</span>)</div><div class="line">            <span class="keyword">continue</span>;</div><div class="line">        visited[th1][th2] = <span class="literal">true</span>;</div><div class="line"></div><div class="line">        <span class="comment">//达到终点</span></div><div class="line">        <span class="comment">//if (th1 == N - 1 &amp;&amp; th2 == M - 1)</span></div><div class="line">        <span class="comment">//    return dis[N - 1][M - 1];</span></div><div class="line"></div><div class="line">        <span class="comment">//拓展节点</span></div><div class="line">        REP(<span class="number">4</span>) &#123;</div><div class="line">            <span class="keyword">int</span> next1 = th1 + delta[o];</div><div class="line">            <span class="keyword">int</span> next2 = th2 + delta[<span class="number">3</span> - o];</div><div class="line"></div><div class="line">            <span class="keyword">if</span> (Map[next1][next2] != <span class="string">'X'</span> &amp;&amp; next1 &gt;= <span class="number">0</span></div><div class="line">                &amp;&amp; next1 &lt; N &amp;&amp; next2 &gt;= <span class="number">0</span> &amp;&amp; next2 &lt; M) &#123;</div><div class="line"></div><div class="line">                <span class="keyword">int</span> weight;</div><div class="line">                <span class="keyword">if</span> (Map[next1][next2] == <span class="string">'.'</span>)</div><div class="line">                    weight = <span class="number">1</span>;</div><div class="line">                <span class="keyword">else</span></div><div class="line">                    weight = Map[next1][next2] - <span class="string">'0'</span> + <span class="number">1</span>;</div><div class="line"></div><div class="line">                <span class="keyword">int</span> temp = dis[next1][next2];</div><div class="line"></div><div class="line">                dis[next1][next2] = dis[next1][next2] == <span class="number">-1</span> ?</div><div class="line">                    dis[th1][th2] + weight :</div><div class="line">                    min(dis[th1][th2] + weight,dis[next1][next2]);</div><div class="line"></div><div class="line">                <span class="keyword">if</span> (temp != dis[next1][next2]) &#123;<span class="comment">//记录路径</span></div><div class="line">                    last[next1][next2] = pair&lt;<span class="keyword">int</span>,<span class="keyword">int</span>&gt;(th1,th2);</div><div class="line">                    <span class="comment">//printf("%d %d -&gt; %d %d\n", th1, th2, next1, next2);</span></div><div class="line">                &#125;</div><div class="line"></div><div class="line">                Q.push(point(next1,next2,dis[next1][next2]));</div><div class="line"></div><div class="line">            &#125;</div><div class="line"></div><div class="line">        &#125;</div><div class="line"></div><div class="line">    &#125;</div><div class="line">    <span class="keyword">if</span> (dis[N - <span class="number">1</span>][M - <span class="number">1</span>])</div><div class="line">        <span class="keyword">return</span> dis[N - <span class="number">1</span>][M - <span class="number">1</span>];</div><div class="line">    <span class="keyword">else</span></div><div class="line">        <span class="keyword">return</span> <span class="number">-1</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">bool</span> <span class="title">Do</span><span class="params">()</span> </span>&#123;</div><div class="line">    <span class="keyword">if</span> (<span class="built_in">scanf</span>(<span class="string">"%d%d"</span>,&amp;N,&amp;M) == EOF)</div><div class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; i++)</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; M; j++)</div><div class="line">            <span class="built_in">scanf</span>(<span class="string">"\n%c\n"</span>,&amp;Map[i][j]);</div><div class="line">    <span class="comment">/*</span></div><div class="line"><span class="comment">    for (int i = 0; i &lt; N; i++) &#123;</span></div><div class="line"><span class="comment">    for (int j = 0; j &lt; M; j++)</span></div><div class="line"><span class="comment">    printf("%c", Map[i][j]);</span></div><div class="line"><span class="comment">    printf("\n");</span></div><div class="line"><span class="comment">    &#125;</span></div><div class="line"><span class="comment">    */</span></div><div class="line"></div><div class="line">    <span class="keyword">if</span> (BFS() == <span class="number">-1</span>) &#123;</div><div class="line">        <span class="built_in">printf</span>(<span class="string">"God please help our poor hero.\nFINISH\n"</span>);</div><div class="line">    &#125; <span class="keyword">else</span> &#123;</div><div class="line">        <span class="built_in">printf</span>(<span class="string">"It takes %d seconds to reach the target position, let me show you the way.\n"</span>,dis[N - <span class="number">1</span>][M - <span class="number">1</span>] );</div><div class="line"></div><div class="line">        <span class="built_in">stack</span>&lt;pair&lt;<span class="keyword">int</span>,<span class="keyword">int</span>&gt; &gt; s;</div><div class="line">        <span class="keyword">int</span> x = N - <span class="number">1</span>,y = M - <span class="number">1</span>;</div><div class="line">        <span class="keyword">while</span> (!(x == <span class="number">0</span> &amp;&amp; y == <span class="number">0</span>)) &#123;</div><div class="line">            <span class="comment">//printf("s %d %d\n", x, y);</span></div><div class="line">            s.push(pair&lt;<span class="keyword">int</span>,<span class="keyword">int</span>&gt;(x,y));</div><div class="line">            pair&lt;<span class="keyword">int</span>,<span class="keyword">int</span>&gt; t = last[x][y];</div><div class="line">            x = t.first;</div><div class="line">            y = t.second;</div><div class="line">        &#125;</div><div class="line">        <span class="comment">//s.pop();</span></div><div class="line">        <span class="comment">//s.push(point(0, 0));</span></div><div class="line"></div><div class="line">        REP(dis[N - <span class="number">1</span>][M - <span class="number">1</span>]) &#123;</div><div class="line">            <span class="built_in">printf</span>(<span class="string">"%ds:"</span>,o + <span class="number">1</span>);</div><div class="line"></div><div class="line">            x = s.top().first;</div><div class="line">            y = s.top().second;</div><div class="line">            s.pop();</div><div class="line">            <span class="built_in">printf</span>(<span class="string">"(%d,%d)-&gt;(%d,%d)\n"</span>,last[x][y].first,last[x][y].second,x,y);</div><div class="line"></div><div class="line">            <span class="keyword">if</span> (Map[x][y] &gt;= <span class="string">'0'</span>&amp;&amp;Map[x][y] &lt;= <span class="string">'9'</span>) &#123;</div><div class="line">                <span class="keyword">int</span> wait = Map[x][y] - <span class="string">'0'</span>;</div><div class="line">                <span class="keyword">for</span> (o++; wait; wait--,o++)</div><div class="line">                    <span class="built_in">printf</span>(<span class="string">"%ds:FIGHT AT (%d,%d)\n"</span>,o + <span class="number">1</span>,x,y);</div><div class="line">                o--;</div><div class="line">            &#125;</div><div class="line"></div><div class="line"></div><div class="line">        &#125;</div><div class="line">        <span class="built_in">printf</span>(<span class="string">"FINISH\n"</span>);</div><div class="line"></div><div class="line">    &#125;</div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</div><div class="line">    <span class="keyword">while</span> (Do());</div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
        </div>

        <blockquote class="post-copyright">
    <div class="content">
        

        
        文章标题：  <a href="/post/HDU/1026.html" target="_blank" rel="external">HDU 1026.Ignatius and the Princess I</a><br>文章地址：  <a href="/post/HDU/1026.html" target="_blank" rel="external">https://www.oyohyee.com/post/HDU/1026.html</a><br>创建时间：  2016-04-19 21:05:00<br>更新时间：  2017-08-25 20:31:44
        
    </div>
    <footer>
        <a href="https://www.oyohyee.com">
            <img src="/logo.svg" alt="OhYee">
            OhYee
        </a>
    </footer>
</blockquote>

        
<div class="page-reward">
    <a id="rewardBtn" href="javascript:;" class="page-reward-btn waves-effect waves-circle waves-light">赏</a>
</div>



        <div class="post-footer">
            
	<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/BFS/">BFS</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Dijkstra/">Dijkstra</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/HDU/">HDU</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Graph/">图论</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Shortest-Path/">最短路</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Queue/">队列(queue)</a></li></ul>


            
<div class="page-share-wrap">
    

<div class="page-share" id="pageShare">
    <ul class="reset share-icons">
      <li>
        <a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=https://www.oyohyee.com/post/HDU/1026.html&title=《HDU 1026.Ignatius and the Princess I》 — OhYee's Blog&pic=https://www.oyohyee.com/logo.svg" data-title="微博">
          <i class="icon icon-weibo"></i>
        </a>
      </li>
      <li>
        <a class="weixin share-sns wxFab" href="javascript:;" data-title="微信">
          <i class="icon icon-weixin"></i>
        </a>
      </li>
      <li>
        <a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=https://www.oyohyee.com/post/HDU/1026.html&title=《HDU 1026.Ignatius and the Princess I》 — OhYee's Blog&source=题目
DescriptionThe Princess has been abducted by the BEelzebub feng5166, our h..." data-title=" QQ">
          <i class="icon icon-qq"></i>
        </a>
      </li>
      <li>
        <a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=https://www.oyohyee.com/post/HDU/1026.html" data-title=" Facebook">
          <i class="icon icon-facebook"></i>
        </a>
      </li>
      <li>
        <a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=《HDU 1026.Ignatius and the Princess I》 — OhYee's Blog&url=https://www.oyohyee.com/post/HDU/1026.html&via=https://www.oyohyee.com" data-title=" Twitter">
          <i class="icon icon-twitter"></i>
        </a>
      </li>
      <li>
        <a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=https://www.oyohyee.com/post/HDU/1026.html" data-title=" Google+">
          <i class="icon icon-google-plus"></i>
        </a>
      </li>
    </ul>
 </div>



    <a href="javascript:;" id="shareFab" class="page-share-fab waves-effect waves-circle">
        <i class="icon icon-share-alt icon-lg"></i>
    </a>
</div>



        </div>
    </div>

    
<nav class="post-nav flex-row flex-justify-between">
  
    <div class="waves-block waves-effect prev">
      <a href="/post/HDU/1242.html" id="post-prev" class="post-nav-link">
        <div class="tips"><i class="icon icon-angle-left icon-lg icon-pr"></i> Prev</div>
        <h4 class="title">HDU 1242.Rescue</h4>
      </a>
    </div>
  

  
    <div class="waves-block waves-effect next">
      <a href="/post/HDU/1180.html" id="post-next" class="post-nav-link">
        <div class="tips">Next <i class="icon icon-angle-right icon-lg icon-pl"></i></div>
        <h4 class="title">HDU 1180.诡异的楼梯</h4>
      </a>
    </div>
  
</nav>



    











<section class="comments" id="comments">
    <div id="gitment_thread"></div>
    <link rel="stylesheet" href="/css/gitment.css">
    <script src="/js/gitment.js"></script>
    <script>
        var gitment = new Gitment({
            id: "Gitment",
            owner: 'OhYee',
            repo: 'OhYee.github.io',
            oauth: {
                client_id: '300bdf519730fd67e69c',
                client_secret: '9a496df1c4da10cec1ec233379b9b3ef6a448c2e',
            },
        })
        gitment.render('comments')
    </script>
</section>




</article>

<div id="reward" class="page-modal reward-lay">
    <a class="close" href="javascript:;"><i class="icon icon-close"></i></a>
    <h3 class="reward-title">
        <i class="icon icon-quote-left"></i>
        谢谢大爷~
        <i class="icon icon-quote-right"></i>
    </h3>
    <div class="reward-content">
        
        <div class="reward-code">
            <img id="rewardCode" src="/wechatimg.jpg" alt="打赏二维码">
        </div>
        
        <label class="reward-toggle">
            <input id="rewardToggle" type="checkbox" class="reward-toggle-check"
                data-wechat="/wechatimg.jpg" data-alipay="/alipayimg.jpg">
            <div class="reward-toggle-ctrol">
                <span class="reward-toggle-item wechat">微信</span>
                <span class="reward-toggle-label"></span>
                <span class="reward-toggle-item alipay">支付宝</span>
            </div>
        </label>
        
    </div>
</div>



</div>

        <footer class="footer">
    <div class="top">
        <p>
            
                <span><a href="/atom.xml" target="_blank" class="rss" title="rss"><i class="icon icon-lg icon-rss"></i></a></span>
                
                    

<span id="busuanzi_container_site_uv" style='display:none'>
    站点总访客数：<span id="busuanzi_value_site_uv"></span>
</span>
<span id="busuanzi_container_site_pv" style='display:none'>
    站点总访问量：<span id="busuanzi_value_site_pv"></span>
</span>



                        <!--<span>博客内容遵循 <a rel="license" href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh">知识共享 署名 - 非商业性 - 相同方式共享 4.0 国际协议</a></span>-->
        </p>
        <p>
            <span>
                <a href="https://www.oyohyee.com">OhYee</a> &copy; 2016 - 2017</span>
            <span>
                
                <a href="http://www.miitbeian.gov.cn/" target="_blank">豫ICP备17000379号</a>
                
            </span>
            <span>
                Power by <a href="http://hexo.io/" target="_blank">Hexo</a> Theme <a href="/projects/indigo/" target="_blank">indigo</a>
            </span>
        </p>
    </div>
    <div class="bottom">
        <div class="friends">
            <p>
                
                    <span>
                        <a href="http://hakale.cn/">
                            Hakale
                        </a>
                    </span>
                
                    <span>
                        <a href="http://blog.csdn.net/acblacktea">
                            ACBlackTea
                        </a>
                    </span>
                
                    <span>
                        <a href="http://blog.csdn.net/snow_me">
                            Wilbert
                        </a>
                    </span>
                
                    <span>
                        <a href="http://blog.csdn.net/adjky/">
                            ADjky
                        </a>
                    </span>
                
                    <span>
                        <a href="http://blog.csdn.net/JACK_JYH/">
                            JACK_JYH
                        </a>
                    </span>
                
                    <span>
                        <a href="http://blog.csdn.net/qq_35323001">
                            Super丶xd
                        </a>
                    </span>
                
                    <span>
                        <a href="http://blog.csdn.net/pengwill97">
                            Pengwill
                        </a>
                    </span>
                
                    <span>
                        <a href="http://blog.csdn.net/Mr_Saltyfish">
                            Mr_Saltyfish
                        </a>
                    </span>
                
                    <span>
                        <a href="http://www.cnblogs.com/wmrv587/">
                            wmr
                        </a>
                    </span>
                
                    <span>
                        <a href="http://www.cnblogs.com/robin1998/">
                            Robin
                        </a>
                    </span>
                
            </p>
        </div>
    </div>
</footer>
    </main>
    <div class="mask" id="mask"></div>
<a href="javascript:;" id="gotop" class="waves-effect waves-circle waves-light"><span class="icon icon-lg icon-chevron-up"></span></a>



<div class="global-share" id="globalShare">
    <ul class="reset share-icons">
      <li>
        <a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=https://www.oyohyee.com/post/HDU/1026.html&title=《HDU 1026.Ignatius and the Princess I》 — OhYee's Blog&pic=https://www.oyohyee.com/logo.svg" data-title="微博">
          <i class="icon icon-weibo"></i>
        </a>
      </li>
      <li>
        <a class="weixin share-sns wxFab" href="javascript:;" data-title="微信">
          <i class="icon icon-weixin"></i>
        </a>
      </li>
      <li>
        <a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=https://www.oyohyee.com/post/HDU/1026.html&title=《HDU 1026.Ignatius and the Princess I》 — OhYee's Blog&source=题目
DescriptionThe Princess has been abducted by the BEelzebub feng5166, our h..." data-title=" QQ">
          <i class="icon icon-qq"></i>
        </a>
      </li>
      <li>
        <a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=https://www.oyohyee.com/post/HDU/1026.html" data-title=" Facebook">
          <i class="icon icon-facebook"></i>
        </a>
      </li>
      <li>
        <a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=《HDU 1026.Ignatius and the Princess I》 — OhYee's Blog&url=https://www.oyohyee.com/post/HDU/1026.html&via=https://www.oyohyee.com" data-title=" Twitter">
          <i class="icon icon-twitter"></i>
        </a>
      </li>
      <li>
        <a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=https://www.oyohyee.com/post/HDU/1026.html" data-title=" Google+">
          <i class="icon icon-google-plus"></i>
        </a>
      </li>
    </ul>
 </div>


<div class="page-modal wx-share" id="wxShare">
    <a class="close" href="javascript:;"><i class="icon icon-close"></i></a>
    <p>扫一扫，分享到微信</p>
    <img src="//api.qrserver.com/v1/create-qr-code/?data=https://www.oyohyee.com/post/HDU/1026.html" alt="微信分享二维码">
</div>




    <script src="//cdn.bootcss.com/node-waves/0.7.4/waves.min.js"></script>
<script>
var BLOG = { ROOT: '/', SHARE: true, REWARD: true };


</script>

<script src="/js/main.min.js?v=1.6.13"></script>


<div class="search-panel" id="search-panel">
    <ul class="search-result" id="search-result"></ul>
</div>
<template id="search-tpl">
<li class="item">
    <a href="{path}" class="waves-block waves-effect">
        <div class="title ellipsis" title="{title}">{title}</div>
        <div class="flex-row flex-middle">
            <div class="tags ellipsis">
                {tags}
            </div>
            <time class="flex-col time">{date}</time>
        </div>
    </a>
</li>
</template>

<script src="/js/search.min.js?v=1.6.13" async></script>



<!-- mathjax config similar to math.stackexchange -->

<script type="text/x-mathjax-config">
MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
        processEscapes: true,
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    }
});

MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';
    }
});
</script>

<script async src="//cdn.bootcss.com/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML" async></script>




<script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>





</body>
</html>
